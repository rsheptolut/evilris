ca65 V2.13.9 - (C) Copyright 1998-2011 Ullrich von Bassewitz
Main file   : src/main.s
Current file: src/main.s

000000r 1               ;
000000r 1               ; File generated by cc65 v 2.13.9
000000r 1               ;
000000r 1               	.fopt		compiler,"cc65 v 2.13.9"
000000r 1               	.setcpu		"6502"
000000r 1               	.smart		on
000000r 1               	.autoimport	on
000000r 1               	.case		on
000000r 1               	.debuginfo	off
000000r 1               	.importzp	sp, sreg, regsave, regbank
000000r 1               	.importzp	tmp1, tmp2, tmp3, tmp4, ptr1, ptr2, ptr3, ptr4
000000r 1               	.macpack	longbranch
000000r 1               	.forceimport	__STARTUP__
000000r 1               	.import		_wait_vblank
000000r 1               	.import		_read_joy
000000r 1               	.import		_src_gfx_index_logo
000000r 1               	.import		_src_map_exported_map
000000r 1               	.import		_src_map_exported_metatiles
000000r 1               	.import		_src_map_exported_attrib
000000r 1               	.import		_init_music
000000r 1               	.import		_play_music
000000r 1               	.export		_set_game_palette
000000r 1               	.export		_set_logo_palette
000000r 1               	.export		_set_nt
000000r 1               	.export		_update_frame
000000r 1               	.export		_update_ego_sprites
000000r 1               	.export		_update_ego_physics
000000r 1               	.export		_scroll
000000r 1               	.export		_upload_ppu_buffers
000000r 1               	.export		_check_ego_x_collisions
000000r 1               	.export		_check_ego_y_collisions
000000r 1               	.export		_play_dpcm_sample
000000r 1               	.export		_show_logo
000000r 1               	.export		_upload_dynamic_palette
000000r 1               	.export		_main
000000r 1               
000000r 1               .segment	"DATA"
000000r 1               
000000r 1               .segment	"ZEROPAGE"
000000r 1               _ego_x:
000000r 1  00 28 00 00  	.dword	$00002800
000004r 1               _old_ego_x:
000004r 1  28 00        	.word	$0028
000006r 1               _ego_y:
000006r 1  00 96 00 00  	.dword	$00009600
00000Ar 1               _old_ego_y:
00000Ar 1  96 00        	.word	$0096
00000Cr 1               _scroll_x_left:
00000Cr 1  00 00        	.word	$0000
00000Er 1               _valid_tilecol:
00000Er 1  1F 00        	.word	$001F
000010r 1               _valid_attrcol:
000010r 1  07 00        	.word	$0007
000012r 1               _coin_color:
000012r 1  27           	.byte	$27
000013r 1               
000013r 1               .segment	"RODATA"
000000r 1               
000000r 1               _solid_tiles:
000000r 1  00           	.byte	$00
000001r 1  00           	.byte	$00
000002r 1  00           	.byte	$00
000003r 1  00           	.byte	$00
000004r 1  01           	.byte	$01
000005r 1  00           	.byte	$00
000006r 1  00           	.byte	$00
000007r 1  00           	.byte	$00
000008r 1  00           	.byte	$00
000009r 1  01           	.byte	$01
00000Ar 1  01           	.byte	$01
00000Br 1  01           	.byte	$01
00000Cr 1  01           	.byte	$01
00000Dr 1  01           	.byte	$01
00000Er 1  01           	.byte	$01
00000Fr 1  00           	.byte	$00
000010r 1  01           	.byte	$01
000011r 1  01           	.byte	$01
000012r 1  00           	.byte	$00
000013r 1  00           	.byte	$00
000014r 1  00           	.byte	$00
000015r 1  00           	.byte	$00
000016r 1  01           	.byte	$01
000017r 1  01           	.byte	$01
000018r 1  00           	.byte	$00
000019r 1  00           	.byte	$00
00001Ar 1  00           	.byte	$00
00001Br 1  00           	.byte	$00
00001Cr 1  00           	.byte	$00
00001Dr 1  00           	.byte	$00
00001Er 1  00           	.byte	$00
00001Fr 1  00           	.byte	$00
000020r 1  00           	.byte	$00
000021r 1  00           	.byte	$00
000022r 1  00           	.byte	$00
000023r 1  01           	.byte	$01
000024r 1  00           	.byte	$00
000025r 1  00           	.byte	$00
000026r 1  00           	.byte	$00
000027r 1  00           	.byte	$00
000028r 1  00           	.byte	$00
000029r 1  00           	.byte	$00
00002Ar 1  00           	.byte	$00
00002Br 1  00           	.byte	$00
00002Cr 1  00           	.byte	$00
00002Dr 1  00           	.byte	$00
00002Er 1  00           	.byte	$00
00002Fr 1  00           	.byte	$00
000030r 1  00           	.byte	$00
000031r 1  00           	.byte	$00
000032r 1  00           	.byte	$00
000033r 1  00           	.byte	$00
000034r 1  00           	.byte	$00
000035r 1  00           	.byte	$00
000036r 1  00           	.byte	$00
000037r 1  00           	.byte	$00
000038r 1  00           	.byte	$00
000039r 1  00           	.byte	$00
00003Ar 1  00           	.byte	$00
00003Br 1  00           	.byte	$00
00003Cr 1  00           	.byte	$00
00003Dr 1  00           	.byte	$00
00003Er 1  00           	.byte	$00
00003Fr 1  00           	.byte	$00
000040r 1  00 00 00 00  	.res	192,$00
000044r 1  00 00 00 00  
000048r 1  00 00 00 00  
000100r 1               L0791:
000100r 1  50 52 45 53  	.byte	$50,$52,$45,$53,$53,$20,$53,$54,$41,$52,$54,$00
000104r 1  53 20 53 54  
000108r 1  41 52 54 00  
00010Cr 1               
00010Cr 1               .segment	"BSS"
000000r 1               
000000r 1               .segment	"ZEROPAGE"
000013r 1               _joy:
000013r 1  00           	.res	1,$00
000014r 1               _ego_xv:
000014r 1  00 00        	.res	2,$00
000016r 1               _ego_yv:
000016r 1  00 00        	.res	2,$00
000018r 1               _ego_xa:
000018r 1  00 00        	.res	2,$00
00001Ar 1               _ego_xdir:
00001Ar 1  00           	.res	1,$00
00001Br 1               _ego_grounded:
00001Br 1  00           	.res	1,$00
00001Cr 1               _ego_animframe:
00001Cr 1  00           	.res	1,$00
00001Dr 1               _ego_animspeed:
00001Dr 1  00           	.res	1,$00
00001Er 1               _ego_squatting:
00001Er 1  00           	.res	1,$00
00001Fr 1               _ego_throttle:
00001Fr 1  00           	.res	1,$00
000020r 1               _ego_alive:
000020r 1  00           	.res	1,$00
000021r 1               _ego_jump_frames:
000021r 1  00           	.res	1,$00
000022r 1               _ego_jump_start_vel:
000022r 1  00 00        	.res	2,$00
000024r 1               _framecount:
000024r 1  00           	.res	1,$00
000025r 1               _nt_buffer:
000025r 1  00 00 00 00  	.res	28,$00
000029r 1  00 00 00 00  
00002Dr 1  00 00 00 00  
000041r 1               _nt_buffer_full:
000041r 1  00           	.res	1,$00
000042r 1               _attr_buffer:
000042r 1  00 00 00 00  	.res	8,$00
000046r 1  00 00 00 00  
00004Ar 1               _attr_buffer_full:
00004Ar 1  00           	.res	1,$00
00004Br 1               _i:
00004Br 1  00           	.res	1,$00
00004Cr 1               _j:
00004Cr 1  00           	.res	1,$00
00004Dr 1               
00004Dr 1               ; ---------------------------------------------------------------
00004Dr 1               ; void __near__ set_game_palette (void)
00004Dr 1               ; ---------------------------------------------------------------
00004Dr 1               
00004Dr 1               .segment	"CODE"
000000r 1               
000000r 1               .proc	_set_game_palette: near
000000r 1               
000000r 1               .segment	"RODATA"
00010Cr 1               
00010Cr 1               L0323:
00010Cr 1  22           	.byte	$22
00010Dr 1  29           	.byte	$29
00010Er 1  1A           	.byte	$1A
00010Fr 1  0F           	.byte	$0F
000110r 1  22           	.byte	$22
000111r 1  36           	.byte	$36
000112r 1  17           	.byte	$17
000113r 1  0F           	.byte	$0F
000114r 1  22           	.byte	$22
000115r 1  30           	.byte	$30
000116r 1  21           	.byte	$21
000117r 1  0F           	.byte	$0F
000118r 1  22           	.byte	$22
000119r 1  27           	.byte	$27
00011Ar 1  17           	.byte	$17
00011Br 1  0F           	.byte	$0F
00011Cr 1  22           	.byte	$22
00011Dr 1  16           	.byte	$16
00011Er 1  27           	.byte	$27
00011Fr 1  18           	.byte	$18
000120r 1               
000120r 1               .segment	"CODE"
000000r 1               
000000r 1  20 rr rr     	jsr     _wait_vblank
000003r 1  A9 3F        	lda     #$3F
000005r 1  8D 06 20     	sta     $2006
000008r 1  A9 00        	lda     #$00
00000Ar 1  8D 06 20     	sta     $2006
00000Dr 1  85 rr        	sta     _i
00000Fr 1  A5 rr        L08D7:	lda     _i
000011r 1  C9 14        	cmp     #$14
000013r 1  B0 0D        	bcs     L034B
000015r 1  A4 rr        	ldy     _i
000017r 1  B9 rr rr     	lda     L0323,y
00001Ar 1  8D 07 20     	sta     $2007
00001Dr 1  E6 rr        	inc     _i
00001Fr 1  4C rr rr     	jmp     L08D7
000022r 1  60           L034B:	rts
000023r 1               
000023r 1               .endproc
000023r 1               
000023r 1               ; ---------------------------------------------------------------
000023r 1               ; void __near__ set_logo_palette (void)
000023r 1               ; ---------------------------------------------------------------
000023r 1               
000023r 1               .segment	"CODE"
000023r 1               
000023r 1               .proc	_set_logo_palette: near
000023r 1               
000023r 1               .segment	"RODATA"
000120r 1               
000120r 1               L0358:
000120r 1  0F           	.byte	$0F
000121r 1  01           	.byte	$01
000122r 1  11           	.byte	$11
000123r 1  21           	.byte	$21
000124r 1  0F           	.byte	$0F
000125r 1  0F           	.byte	$0F
000126r 1  0F           	.byte	$0F
000127r 1  0F           	.byte	$0F
000128r 1  0F           	.byte	$0F
000129r 1  01           	.byte	$01
00012Ar 1  11           	.byte	$11
00012Br 1  21           	.byte	$21
00012Cr 1  0F           	.byte	$0F
00012Dr 1  01           	.byte	$01
00012Er 1  11           	.byte	$11
00012Fr 1  21           	.byte	$21
000130r 1  0F           	.byte	$0F
000131r 1  01           	.byte	$01
000132r 1  0F           	.byte	$0F
000133r 1  0F           	.byte	$0F
000134r 1               
000134r 1               .segment	"CODE"
000023r 1               
000023r 1  20 rr rr     	jsr     _wait_vblank
000026r 1  A9 3F        	lda     #$3F
000028r 1  8D 06 20     	sta     $2006
00002Br 1  A9 00        	lda     #$00
00002Dr 1  8D 06 20     	sta     $2006
000030r 1  85 rr        	sta     _i
000032r 1  A5 rr        L08D8:	lda     _i
000034r 1  C9 14        	cmp     #$14
000036r 1  B0 0D        	bcs     L0380
000038r 1  A4 rr        	ldy     _i
00003Ar 1  B9 rr rr     	lda     L0358,y
00003Dr 1  8D 07 20     	sta     $2007
000040r 1  E6 rr        	inc     _i
000042r 1  4C rr rr     	jmp     L08D8
000045r 1  60           L0380:	rts
000046r 1               
000046r 1               .endproc
000046r 1               
000046r 1               ; ---------------------------------------------------------------
000046r 1               ; void __near__ set_nt (void)
000046r 1               ; ---------------------------------------------------------------
000046r 1               
000046r 1               .segment	"CODE"
000046r 1               
000046r 1               .proc	_set_nt: near
000046r 1               
000046r 1               .segment	"ZEROPAGE"
00004Dr 1               
00004Dr 1               L038D:
00004Dr 1  00 00        	.res	2,$00
00004Fr 1               L0390:
00004Fr 1  00 00        	.res	2,$00
000051r 1               L0394:
000051r 1  00           	.res	1,$00
000052r 1               L0395:
000052r 1  00           	.res	1,$00
000053r 1               
000053r 1               .segment	"CODE"
000046r 1               
000046r 1  A9 rr        	lda     #<(_src_map_exported_map+2)
000048r 1  85 rr        	sta     L038D
00004Ar 1  A9 rr        	lda     #>(_src_map_exported_map+2)
00004Cr 1  85 rr        	sta     L038D+1
00004Er 1  AD rr rr     	lda     _src_map_exported_map
000051r 1  18           	clc
000052r 1  69 rr        	adc     #<(_src_map_exported_map+2)
000054r 1  85 rr        	sta     L0390
000056r 1  A9 00        	lda     #$00
000058r 1  69 rr        	adc     #>(_src_map_exported_map+2)
00005Ar 1  85 rr        	sta     L0390+1
00005Cr 1  A9 20        	lda     #$20
00005Er 1  8D 06 20     	sta     $2006
000061r 1  A9 00        	lda     #$00
000063r 1  8D 06 20     	sta     $2006
000066r 1  85 rr        	sta     _j
000068r 1  A5 rr        L08DB:	lda     _j
00006Ar 1  C9 0E        	cmp     #$0E
00006Cr 1  90 03 4C rr  	jcs     L03A8
000070r 1  rr           
000071r 1  A9 00        	lda     #$00
000073r 1  85 rr        	sta     _i
000075r 1  A5 rr        L08DC:	lda     _i
000077r 1  C9 10        	cmp     #$10
000079r 1  B0 29        	bcs     L03B0
00007Br 1  A5 rr        	lda     L038D
00007Dr 1  85 rr        	sta     ptr1
00007Fr 1  A5 rr        	lda     L038D+1
000081r 1  85 rr        	sta     ptr1+1
000083r 1  A0 00        	ldy     #$00
000085r 1  B1 rr        	lda     (ptr1),y
000087r 1  85 rr        	sta     L0394
000089r 1  A4 rr        	ldy     L0394
00008Br 1  B9 rr rr     	lda     _src_map_exported_metatiles,y
00008Er 1  8D 07 20     	sta     $2007
000091r 1  A4 rr        	ldy     L0394
000093r 1  B9 rr rr     	lda     _src_map_exported_metatiles+256,y
000096r 1  8D 07 20     	sta     $2007
000099r 1  E6 rr        	inc     L038D
00009Br 1  D0 02        	bne     L03C6
00009Dr 1  E6 rr        	inc     L038D+1
00009Fr 1  E6 rr        L03C6:	inc     _i
0000A1r 1  4C rr rr     	jmp     L08DC
0000A4r 1  A5 rr        L03B0:	lda     L038D
0000A6r 1  38           	sec
0000A7r 1  E9 10        	sbc     #$10
0000A9r 1  85 rr        	sta     L038D
0000ABr 1  B0 02        	bcs     L03C9
0000ADr 1  C6 rr        	dec     L038D+1
0000AFr 1  A9 00        L03C9:	lda     #$00
0000B1r 1  85 rr        	sta     _i
0000B3r 1  AA           	tax
0000B4r 1  A5 rr        L08DD:	lda     _i
0000B6r 1  C9 10        	cmp     #$10
0000B8r 1  B0 29        	bcs     L08DE
0000BAr 1  A5 rr        	lda     L038D
0000BCr 1  85 rr        	sta     ptr1
0000BEr 1  A5 rr        	lda     L038D+1
0000C0r 1  85 rr        	sta     ptr1+1
0000C2r 1  A0 00        	ldy     #$00
0000C4r 1  B1 rr        	lda     (ptr1),y
0000C6r 1  85 rr        	sta     L0394
0000C8r 1  A4 rr        	ldy     L0394
0000CAr 1  B9 rr rr     	lda     _src_map_exported_metatiles+512,y
0000CDr 1  8D 07 20     	sta     $2007
0000D0r 1  A4 rr        	ldy     L0394
0000D2r 1  B9 rr rr     	lda     _src_map_exported_metatiles+768,y
0000D5r 1  8D 07 20     	sta     $2007
0000D8r 1  E6 rr        	inc     L038D
0000DAr 1  D0 02        	bne     L03E1
0000DCr 1  E6 rr        	inc     L038D+1
0000DEr 1  E6 rr        L03E1:	inc     _i
0000E0r 1  4C rr rr     	jmp     L08DD
0000E3r 1  AD rr rr     L08DE:	lda     _src_map_exported_map
0000E6r 1  38           	sec
0000E7r 1  E9 10        	sbc     #$10
0000E9r 1  B0 02        	bcs     L03E5
0000EBr 1  A2 FF        	ldx     #$FF
0000EDr 1  18           L03E5:	clc
0000EEr 1  65 rr        	adc     L038D
0000F0r 1  85 rr        	sta     L038D
0000F2r 1  8A           	txa
0000F3r 1  65 rr        	adc     L038D+1
0000F5r 1  85 rr        	sta     L038D+1
0000F7r 1  E6 rr        	inc     _j
0000F9r 1  4C rr rr     	jmp     L08DB
0000FCr 1  A9 rr        L03A8:	lda     #<(_src_map_exported_map+2)
0000FEr 1  85 rr        	sta     L038D
000100r 1  A9 rr        	lda     #>(_src_map_exported_map+2)
000102r 1  85 rr        	sta     L038D+1
000104r 1  A9 23        	lda     #$23
000106r 1  8D 06 20     	sta     $2006
000109r 1  A9 C0        	lda     #$C0
00010Br 1  8D 06 20     	sta     $2006
00010Er 1  A9 00        	lda     #$00
000110r 1  85 rr        	sta     _j
000112r 1  A5 rr        L08DF:	lda     _j
000114r 1  C9 07        	cmp     #$07
000116r 1  90 01        	bcc     L08E2
000118r 1  60           	rts
000119r 1  A9 00        L08E2:	lda     #$00
00011Br 1  85 rr        	sta     _i
00011Dr 1  AA           	tax
00011Er 1  A5 rr        L08E0:	lda     _i
000120r 1  C9 08        	cmp     #$08
000122r 1  90 03 4C rr  	jcs     L08E1
000126r 1  rr           
000127r 1  A5 rr        	lda     L038D
000129r 1  A6 rr        	ldx     L038D+1
00012Br 1  85 rr        	sta     regsave
00012Dr 1  86 rr        	stx     regsave+1
00012Fr 1  18           	clc
000130r 1  69 01        	adc     #$01
000132r 1  90 01        	bcc     L040D
000134r 1  E8           	inx
000135r 1  85 rr        L040D:	sta     L038D
000137r 1  86 rr        	stx     L038D+1
000139r 1  A0 00        	ldy     #$00
00013Br 1  B1 rr        	lda     (regsave),y
00013Dr 1  85 rr        	sta     ptr1
00013Fr 1  98           	tya
000140r 1  18           	clc
000141r 1  69 rr        	adc     #>(_src_map_exported_attrib)
000143r 1  85 rr        	sta     ptr1+1
000145r 1  A0 rr        	ldy     #<(_src_map_exported_attrib)
000147r 1  B1 rr        	lda     (ptr1),y
000149r 1  85 rr        	sta     L0395
00014Br 1  A5 rr        	lda     L0395
00014Dr 1  20 rr rr     	jsr     pusha0
000150r 1  A5 rr        	lda     L038D
000152r 1  A6 rr        	ldx     L038D+1
000154r 1  85 rr        	sta     regsave
000156r 1  86 rr        	stx     regsave+1
000158r 1  18           	clc
000159r 1  69 01        	adc     #$01
00015Br 1  90 01        	bcc     L0412
00015Dr 1  E8           	inx
00015Er 1  85 rr        L0412:	sta     L038D
000160r 1  86 rr        	stx     L038D+1
000162r 1  A0 00        	ldy     #$00
000164r 1  B1 rr        	lda     (regsave),y
000166r 1  85 rr        	sta     ptr1
000168r 1  98           	tya
000169r 1  18           	clc
00016Ar 1  69 rr        	adc     #>(_src_map_exported_attrib)
00016Cr 1  85 rr        	sta     ptr1+1
00016Er 1  A0 rr        	ldy     #<(_src_map_exported_attrib)
000170r 1  A2 00        	ldx     #$00
000172r 1  B1 rr        	lda     (ptr1),y
000174r 1  20 rr rr     	jsr     aslax2
000177r 1  20 rr rr     	jsr     tosorax
00017Ar 1  85 rr        	sta     L0395
00017Cr 1  A5 rr        	lda     L0395
00017Er 1  20 rr rr     	jsr     pusha0
000181r 1  A5 rr        	lda     L0390
000183r 1  A6 rr        	ldx     L0390+1
000185r 1  85 rr        	sta     regsave
000187r 1  86 rr        	stx     regsave+1
000189r 1  18           	clc
00018Ar 1  69 01        	adc     #$01
00018Cr 1  90 01        	bcc     L0417
00018Er 1  E8           	inx
00018Fr 1  85 rr        L0417:	sta     L0390
000191r 1  86 rr        	stx     L0390+1
000193r 1  A0 00        	ldy     #$00
000195r 1  B1 rr        	lda     (regsave),y
000197r 1  85 rr        	sta     ptr1
000199r 1  98           	tya
00019Ar 1  18           	clc
00019Br 1  69 rr        	adc     #>(_src_map_exported_attrib)
00019Dr 1  85 rr        	sta     ptr1+1
00019Fr 1  A0 rr        	ldy     #<(_src_map_exported_attrib)
0001A1r 1  A2 00        	ldx     #$00
0001A3r 1  B1 rr        	lda     (ptr1),y
0001A5r 1  20 rr rr     	jsr     aslax4
0001A8r 1  20 rr rr     	jsr     tosorax
0001ABr 1  85 rr        	sta     L0395
0001ADr 1  A5 rr        	lda     L0395
0001AFr 1  20 rr rr     	jsr     pusha0
0001B2r 1  A5 rr        	lda     L0390
0001B4r 1  A6 rr        	ldx     L0390+1
0001B6r 1  85 rr        	sta     regsave
0001B8r 1  86 rr        	stx     regsave+1
0001BAr 1  18           	clc
0001BBr 1  69 01        	adc     #$01
0001BDr 1  90 01        	bcc     L041C
0001BFr 1  E8           	inx
0001C0r 1  85 rr        L041C:	sta     L0390
0001C2r 1  86 rr        	stx     L0390+1
0001C4r 1  A0 00        	ldy     #$00
0001C6r 1  B1 rr        	lda     (regsave),y
0001C8r 1  85 rr        	sta     ptr1
0001CAr 1  98           	tya
0001CBr 1  18           	clc
0001CCr 1  69 rr        	adc     #>(_src_map_exported_attrib)
0001CEr 1  85 rr        	sta     ptr1+1
0001D0r 1  A0 rr        	ldy     #<(_src_map_exported_attrib)
0001D2r 1  A2 00        	ldx     #$00
0001D4r 1  B1 rr        	lda     (ptr1),y
0001D6r 1  20 rr rr     	jsr     aslax4
0001D9r 1  20 rr rr     	jsr     aslax2
0001DCr 1  20 rr rr     	jsr     tosorax
0001DFr 1  85 rr        	sta     L0395
0001E1r 1  8D 07 20     	sta     $2007
0001E4r 1  A2 00        	ldx     #$00
0001E6r 1  E6 rr        	inc     _i
0001E8r 1  4C rr rr     	jmp     L08E0
0001EBr 1  AD rr rr     L08E1:	lda     _src_map_exported_map
0001EEr 1  18           	clc
0001EFr 1  6D rr rr     	adc     _src_map_exported_map
0001F2r 1  90 01        	bcc     L08D9
0001F4r 1  E8           	inx
0001F5r 1  38           L08D9:	sec
0001F6r 1  E9 10        	sbc     #$10
0001F8r 1  B0 01        	bcs     L0424
0001FAr 1  CA           	dex
0001FBr 1  18           L0424:	clc
0001FCr 1  65 rr        	adc     L038D
0001FEr 1  85 rr        	sta     L038D
000200r 1  8A           	txa
000201r 1  65 rr        	adc     L038D+1
000203r 1  85 rr        	sta     L038D+1
000205r 1  A2 00        	ldx     #$00
000207r 1  AD rr rr     	lda     _src_map_exported_map
00020Ar 1  18           	clc
00020Br 1  6D rr rr     	adc     _src_map_exported_map
00020Er 1  90 01        	bcc     L08DA
000210r 1  E8           	inx
000211r 1  38           L08DA:	sec
000212r 1  E9 10        	sbc     #$10
000214r 1  B0 01        	bcs     L0429
000216r 1  CA           	dex
000217r 1  18           L0429:	clc
000218r 1  65 rr        	adc     L0390
00021Ar 1  85 rr        	sta     L0390
00021Cr 1  8A           	txa
00021Dr 1  65 rr        	adc     L0390+1
00021Fr 1  85 rr        	sta     L0390+1
000221r 1  E6 rr        	inc     _j
000223r 1  4C rr rr     	jmp     L08DF
000226r 1               
000226r 1               .endproc
000226r 1               
000226r 1               ; ---------------------------------------------------------------
000226r 1               ; void __near__ update_frame (void)
000226r 1               ; ---------------------------------------------------------------
000226r 1               
000226r 1               .segment	"CODE"
000226r 1               
000226r 1               .proc	_update_frame: near
000226r 1               
000226r 1               .segment	"RODATA"
000134r 1               
000134r 1               L042B:
000134r 1  27           	.byte	$27
000135r 1  27           	.byte	$27
000136r 1  27           	.byte	$27
000137r 1  17           	.byte	$17
000138r 1  07           	.byte	$07
000139r 1  17           	.byte	$17
00013Ar 1               
00013Ar 1               .segment	"ZEROPAGE"
000053r 1               
000053r 1               L0432:
000053r 1  00           	.res	1,$00
000054r 1               L0433:
000054r 1  00           	.res	1,$00
000055r 1               
000055r 1               .segment	"CODE"
000226r 1               
000226r 1  A5 rr        	lda     _joy
000228r 1  85 rr        	sta     L0433
00022Ar 1  A9 00        	lda     #$00
00022Cr 1  20 rr rr     	jsr     _read_joy
00022Fr 1  85 rr        	sta     _joy
000231r 1  A5 rr        	lda     _ego_squatting
000233r 1  F0 09        	beq     L0439
000235r 1  A5 rr        	lda     _ego_grounded
000237r 1  F0 05        	beq     L0439
000239r 1  A9 00        	lda     #$00
00023Br 1  4C rr rr     	jmp     L08E9
00023Er 1  A5 rr        L0439:	lda     _joy
000240r 1  29 40        	and     #$40
000242r 1  F0 13        	beq     L08E5
000244r 1  A2 FF        	ldx     #$FF
000246r 1  A9 EA        	lda     #$EA
000248r 1  85 rr        	sta     _ego_xa
00024Ar 1  86 rr        	stx     _ego_xa+1
00024Cr 1  A5 rr        	lda     _ego_grounded
00024Er 1  F0 22        	beq     L08EA
000250r 1  A9 01        	lda     #$01
000252r 1  85 rr        	sta     _ego_xdir
000254r 1  4C rr rr     	jmp     L08EA
000257r 1  A5 rr        L08E5:	lda     _joy
000259r 1  A2 00        	ldx     #$00
00025Br 1  29 80        	and     #$80
00025Dr 1  F0 0F        	beq     L08E9
00025Fr 1  A9 16        	lda     #$16
000261r 1  85 rr        	sta     _ego_xa
000263r 1  86 rr        	stx     _ego_xa+1
000265r 1  A5 rr        	lda     _ego_grounded
000267r 1  F0 09        	beq     L08EA
000269r 1  86 rr        	stx     _ego_xdir
00026Br 1  4C rr rr     	jmp     L08EA
00026Er 1  85 rr        L08E9:	sta     _ego_xa
000270r 1  85 rr        	sta     _ego_xa+1
000272r 1  A5 rr        L08EA:	lda     _joy
000274r 1  29 01        	and     #$01
000276r 1  F0 36        	beq     L08EC
000278r 1  A5 rr        	lda     L0433
00027Ar 1  29 01        	and     #$01
00027Cr 1  D0 19        	bne     L0454
00027Er 1  A5 rr        	lda     _ego_grounded
000280r 1  F0 2E        	beq     L0467
000282r 1  A2 FC        	ldx     #$FC
000284r 1  A9 E0        	lda     #$E0
000286r 1  85 rr        	sta     _ego_yv
000288r 1  86 rr        	stx     _ego_yv+1
00028Ar 1  A9 01        	lda     #$01
00028Cr 1  85 rr        	sta     _ego_jump_frames
00028Er 1  A9 00        	lda     #$00
000290r 1  85 rr        	sta     _ego_jump_start_vel
000292r 1  85 rr        	sta     _ego_jump_start_vel+1
000294r 1  4C rr rr     	jmp     L0467
000297r 1  A5 rr        L0454:	lda     _ego_jump_frames
000299r 1  F0 15        	beq     L0467
00029Br 1  A5 rr        	lda     _ego_jump_frames
00029Dr 1  C9 14        	cmp     #$14
00029Fr 1  B0 0F        	bcs     L0467
0002A1r 1  A2 FC        	ldx     #$FC
0002A3r 1  A9 E0        	lda     #$E0
0002A5r 1  85 rr        	sta     _ego_yv
0002A7r 1  86 rr        	stx     _ego_yv+1
0002A9r 1  E6 rr        	inc     _ego_jump_frames
0002ABr 1  4C rr rr     	jmp     L0467
0002AEr 1  85 rr        L08EC:	sta     _ego_jump_frames
0002B0r 1  A5 rr        L0467:	lda     _ego_grounded
0002B2r 1  F0 0A        	beq     L08EE
0002B4r 1  A5 rr        	lda     _joy
0002B6r 1  29 20        	and     #$20
0002B8r 1  F0 02        	beq     L08E3
0002BAr 1  A9 01        	lda     #$01
0002BCr 1  85 rr        L08E3:	sta     _ego_squatting
0002BEr 1  A5 rr        L08EE:	lda     _joy
0002C0r 1  29 02        	and     #$02
0002C2r 1  85 rr        	sta     _ego_throttle
0002C4r 1  A5 rr        	lda     _ego_x+3
0002C6r 1  85 rr        	sta     sreg+1
0002C8r 1  A5 rr        	lda     _ego_x+2
0002CAr 1  85 rr        	sta     sreg
0002CCr 1  A5 rr        	lda     _ego_x+1
0002CEr 1  A6 rr        	ldx     sreg
0002D0r 1  A4 rr        	ldy     sreg+1
0002D2r 1  C0 80        	cpy     #$80
0002D4r 1  85 rr        	sta     _old_ego_x
0002D6r 1  86 rr        	stx     _old_ego_x+1
0002D8r 1  A5 rr        	lda     _ego_y+3
0002DAr 1  85 rr        	sta     sreg+1
0002DCr 1  A5 rr        	lda     _ego_y+2
0002DEr 1  85 rr        	sta     sreg
0002E0r 1  A5 rr        	lda     _ego_y+1
0002E2r 1  A6 rr        	ldx     sreg
0002E4r 1  A4 rr        	ldy     sreg+1
0002E6r 1  C0 80        	cpy     #$80
0002E8r 1  85 rr        	sta     _old_ego_y
0002EAr 1  86 rr        	stx     _old_ego_y+1
0002ECr 1  20 rr rr     	jsr     _update_ego_sprites
0002EFr 1  20 rr rr     	jsr     _update_ego_physics
0002F2r 1  A5 rr        	lda     _ego_y+3
0002F4r 1  85 rr        	sta     sreg+1
0002F6r 1  A5 rr        	lda     _ego_y+2
0002F8r 1  85 rr        	sta     sreg
0002FAr 1  A5 rr        	lda     _ego_y+1
0002FCr 1  A6 rr        	ldx     sreg
0002FEr 1  A4 rr        	ldy     sreg+1
000300r 1  84 rr        	sty     sreg
000302r 1  C0 80        	cpy     #$80
000304r 1  A0 00        	ldy     #$00
000306r 1  90 01        	bcc     L047F
000308r 1  88           	dey
000309r 1  84 rr        L047F:	sty     sreg+1
00030Br 1  20 rr rr     	jsr     pusheax
00030Er 1  A2 00        	ldx     #$00
000310r 1  86 rr        	stx     sreg
000312r 1  86 rr        	stx     sreg+1
000314r 1  A9 F1        	lda     #$F1
000316r 1  20 rr rr     	jsr     tosgeeax
000319r 1  F0 04        	beq     L047D
00031Br 1  A9 00        	lda     #$00
00031Dr 1  85 rr        	sta     _ego_alive
00031Fr 1  A9 rr        L047D:	lda     #<(_ego_y)
000321r 1  85 rr        	sta     ptr1
000323r 1  A9 rr        	lda     #>(_ego_y)
000325r 1  85 rr        	sta     ptr1+1
000327r 1  A0 03        	ldy     #$03
000329r 1  B1 rr        	lda     (ptr1),y
00032Br 1  D0 06        	bne     L0482
00032Dr 1  20 rr rr     	jsr     _check_ego_x_collisions
000330r 1  20 rr rr     	jsr     _check_ego_y_collisions
000333r 1  A5 rr        L0482:	lda     _ego_x+3
000335r 1  85 rr        	sta     sreg+1
000337r 1  A5 rr        	lda     _ego_x+2
000339r 1  85 rr        	sta     sreg
00033Br 1  A5 rr        	lda     _ego_x+1
00033Dr 1  A6 rr        	ldx     sreg
00033Fr 1  A4 rr        	ldy     sreg+1
000341r 1  84 rr        	sty     sreg
000343r 1  C0 80        	cpy     #$80
000345r 1  A0 00        	ldy     #$00
000347r 1  90 01        	bcc     L048B
000349r 1  88           	dey
00034Ar 1  84 rr        L048B:	sty     sreg+1
00034Cr 1  20 rr rr     	jsr     pusheax
00034Fr 1  A5 rr        	lda     _scroll_x_left
000351r 1  A6 rr        	ldx     _scroll_x_left+1
000353r 1  18           	clc
000354r 1  69 78        	adc     #$78
000356r 1  90 01        	bcc     L048D
000358r 1  E8           	inx
000359r 1  20 rr rr     L048D:	jsr     axlong
00035Cr 1  20 rr rr     	jsr     tosgteax
00035Fr 1  F0 40        	beq     L0489
000361r 1  A5 rr        	lda     _scroll_x_left
000363r 1  C9 40        	cmp     #$40
000365r 1  A5 rr        	lda     _scroll_x_left+1
000367r 1  E9 0C        	sbc     #$0C
000369r 1  50 02        	bvc     L048F
00036Br 1  49 80        	eor     #$80
00036Dr 1  10 32        L048F:	bpl     L0489
00036Fr 1  A5 rr        	lda     _ego_x+3
000371r 1  85 rr        	sta     sreg+1
000373r 1  A5 rr        	lda     _ego_x+2
000375r 1  85 rr        	sta     sreg
000377r 1  A5 rr        	lda     _ego_x+1
000379r 1  A6 rr        	ldx     sreg
00037Br 1  A4 rr        	ldy     sreg+1
00037Dr 1  84 rr        	sty     sreg
00037Fr 1  C0 80        	cpy     #$80
000381r 1  A0 00        	ldy     #$00
000383r 1  90 01        	bcc     L0494
000385r 1  88           	dey
000386r 1  84 rr        L0494:	sty     sreg+1
000388r 1  20 rr rr     	jsr     pusheax
00038Br 1  A5 rr        	lda     _scroll_x_left
00038Dr 1  A6 rr        	ldx     _scroll_x_left+1
00038Fr 1  18           	clc
000390r 1  69 78        	adc     #$78
000392r 1  90 01        	bcc     L0497
000394r 1  E8           	inx
000395r 1  20 rr rr     L0497:	jsr     axlong
000398r 1  20 rr rr     	jsr     tossubeax
00039Br 1  20 rr rr     	jsr     pusha
00039Er 1  20 rr rr     	jsr     _scroll
0003A1r 1  A5 rr        L0489:	lda     _ego_xv
0003A3r 1  05 rr        	ora     _ego_xv+1
0003A5r 1  D0 05        	bne     L0498
0003A7r 1  A9 FF        	lda     #$FF
0003A9r 1  4C rr rr     	jmp     L08E4
0003ACr 1  A5 rr        L0498:	lda     _ego_xv
0003AEr 1  C9 00        	cmp     #$00
0003B0r 1  A5 rr        	lda     _ego_xv+1
0003B2r 1  E9 FF        	sbc     #$FF
0003B4r 1  70 02        	bvs     L04A0
0003B6r 1  49 80        	eor     #$80
0003B8r 1  10 13        L04A0:	bpl     L08F3
0003BAr 1  A5 rr        	lda     _ego_xv
0003BCr 1  C9 01        	cmp     #$01
0003BEr 1  A5 rr        	lda     _ego_xv+1
0003C0r 1  E9 01        	sbc     #$01
0003C2r 1  50 02        	bvc     L04A2
0003C4r 1  49 80        	eor     #$80
0003C6r 1  10 05        L04A2:	bpl     L08F3
0003C8r 1  A9 07        	lda     #$07
0003CAr 1  4C rr rr     	jmp     L08E4
0003CDr 1  A9 03        L08F3:	lda     #$03
0003CFr 1  85 rr        L08E4:	sta     _ego_animspeed
0003D1r 1  C9 FF        	cmp     #$FF
0003D3r 1  F0 14        	beq     L08F6
0003D5r 1  A5 rr        	lda     _ego_animspeed
0003D7r 1  25 rr        	and     _framecount
0003D9r 1  48           	pha
0003DAr 1  68           	pla
0003DBr 1  D0 0C        	bne     L08F6
0003DDr 1  E6 rr        	inc     _ego_animframe
0003DFr 1  A5 rr        	lda     _ego_animframe
0003E1r 1  C9 03        	cmp     #$03
0003E3r 1  D0 04        	bne     L08F6
0003E5r 1  A9 00        	lda     #$00
0003E7r 1  85 rr        	sta     _ego_animframe
0003E9r 1  A5 rr        L08F6:	lda     _framecount
0003EBr 1  29 07        	and     #$07
0003EDr 1  D0 13        	bne     L08F7
0003EFr 1  A4 rr        	ldy     L0432
0003F1r 1  B9 rr rr     	lda     L042B,y
0003F4r 1  85 rr        	sta     _coin_color
0003F6r 1  E6 rr        	inc     L0432
0003F8r 1  A5 rr        	lda     L0432
0003FAr 1  C9 06        	cmp     #$06
0003FCr 1  D0 04        	bne     L08F7
0003FEr 1  A9 00        	lda     #$00
000400r 1  85 rr        	sta     L0432
000402r 1  E6 rr        L08F7:	inc     _framecount
000404r 1  60           	rts
000405r 1               
000405r 1               .endproc
000405r 1               
000405r 1               ; ---------------------------------------------------------------
000405r 1               ; void __near__ update_ego_sprites (void)
000405r 1               ; ---------------------------------------------------------------
000405r 1               
000405r 1               .segment	"CODE"
000405r 1               
000405r 1               .proc	_update_ego_sprites: near
000405r 1               
000405r 1               .segment	"ZEROPAGE"
000055r 1               
000055r 1               L05CA:
000055r 1  00           	.byte	$00
000056r 1  01           	.byte	$01
000057r 1  02           	.byte	$02
000058r 1  03           	.byte	$03
000059r 1  04           	.byte	$04
00005Ar 1  05           	.byte	$05
00005Br 1  06           	.byte	$06
00005Cr 1  07           	.byte	$07
00005Dr 1  08           	.byte	$08
00005Er 1  09           	.byte	$09
00005Fr 1  0A           	.byte	$0A
000060r 1  0B           	.byte	$0B
000061r 1  0C           	.byte	$0C
000062r 1  0D           	.byte	$0D
000063r 1  0E           	.byte	$0E
000064r 1  0F           	.byte	$0F
000065r 1  10           	.byte	$10
000066r 1  11           	.byte	$11
000067r 1  12           	.byte	$12
000068r 1  13           	.byte	$13
000069r 1  14           	.byte	$14
00006Ar 1  15           	.byte	$15
00006Br 1  16           	.byte	$16
00006Cr 1  17           	.byte	$17
00006Dr 1  18           	.byte	$18
00006Er 1  19           	.byte	$19
00006Fr 1  1A           	.byte	$1A
000070r 1  1B           	.byte	$1B
000071r 1  1C           	.byte	$1C
000072r 1  1D           	.byte	$1D
000073r 1  1E           	.byte	$1E
000074r 1  1F           	.byte	$1F
000075r 1  20           	.byte	$20
000076r 1  21           	.byte	$21
000077r 1  22           	.byte	$22
000078r 1  23           	.byte	$23
000079r 1  24           	.byte	$24
00007Ar 1  25           	.byte	$25
00007Br 1  26           	.byte	$26
00007Cr 1  27           	.byte	$27
00007Dr 1  00           	.byte	$00
00007Er 1  01           	.byte	$01
00007Fr 1  4C           	.byte	$4C
000080r 1  4D           	.byte	$4D
000081r 1  4A           	.byte	$4A
000082r 1  CA           	.byte	$CA
000083r 1  4B           	.byte	$4B
000084r 1  CB           	.byte	$CB
000085r 1  FC           	.byte	$FC
000086r 1  FC           	.byte	$FC
000087r 1  08           	.byte	$08
000088r 1  09           	.byte	$09
000089r 1  58           	.byte	$58
00008Ar 1  59           	.byte	$59
00008Br 1  5A           	.byte	$5A
00008Cr 1  DA           	.byte	$DA
00008Dr 1               
00008Dr 1               .segment	"ZEROPAGE"
00008Dr 1               
00008Dr 1               L0603:
00008Dr 1  00 00        	.res	2,$00
00008Fr 1               L0606:
00008Fr 1  00 00        	.res	2,$00
000091r 1               L0609:
000091r 1  00           	.res	1,$00
000092r 1               L060B:
000092r 1  00           	.res	1,$00
000093r 1               L060D:
000093r 1  00 00        	.res	2,$00
000095r 1               L0638:
000095r 1  00           	.res	1,$00
000096r 1               
000096r 1               .segment	"CODE"
000405r 1               
000405r 1  A2 02        	ldx     #$02
000407r 1  A9 00        	lda     #$00
000409r 1  85 rr        	sta     L0603
00040Br 1  86 rr        	stx     L0603+1
00040Dr 1  A5 rr        	lda     _ego_y+3
00040Fr 1  85 rr        	sta     sreg+1
000411r 1  A5 rr        	lda     _ego_y+2
000413r 1  85 rr        	sta     sreg
000415r 1  A5 rr        	lda     _ego_y+1
000417r 1  A6 rr        	ldx     sreg
000419r 1  A4 rr        	ldy     sreg+1
00041Br 1  C0 80        	cpy     #$80
00041Dr 1  85 rr        	sta     L0606
00041Fr 1  86 rr        	stx     L0606+1
000421r 1  A9 00        	lda     #$00
000423r 1  85 rr        	sta     L0609
000425r 1  A5 rr        	lda     _ego_animframe
000427r 1  85 rr        	sta     L060B
000429r 1  A5 rr        	lda     _ego_grounded
00042Br 1  F0 28        	beq     L08FC
00042Dr 1  A5 rr        	lda     _ego_xv
00042Fr 1  05 rr        	ora     _ego_xv+1
000431r 1  F0 17        	beq     L0610
000433r 1  A2 00        	ldx     #$00
000435r 1  A5 rr        	lda     _ego_xv+1
000437r 1  20 rr rr     	jsr     asrax4
00043Ar 1  20 rr rr     	jsr     asrax3
00043Dr 1  E0 00        	cpx     #$00
00043Fr 1  D0 04        	bne     L0903
000441r 1  C5 rr        	cmp     _ego_xdir
000443r 1  F0 14        	beq     L0622
000445r 1  A9 03        L0903:	lda     #$03
000447r 1  4C rr rr     	jmp     L08FA
00044Ar 1  A5 rr        L0610:	lda     _ego_xa
00044Cr 1  05 rr        	ora     _ego_xa+1
00044Er 1  D0 09        	bne     L0622
000450r 1  A9 05        	lda     #$05
000452r 1  4C rr rr     	jmp     L08FA
000455r 1  A9 04        L08FC:	lda     #$04
000457r 1  85 rr        L08FA:	sta     L060B
000459r 1  A5 rr        L0622:	lda     _ego_squatting
00045Br 1  F0 04        	beq     L0625
00045Dr 1  A9 06        	lda     #$06
00045Fr 1  85 rr        	sta     L060B
000461r 1  A2 00        L0625:	ldx     #$00
000463r 1  A5 rr        	lda     L060B
000465r 1  20 rr rr     	jsr     aslax3
000468r 1  18           	clc
000469r 1  69 rr        	adc     #<(L05CA)
00046Br 1  85 rr        	sta     L060D
00046Dr 1  8A           	txa
00046Er 1  69 rr        	adc     #>(L05CA)
000470r 1  85 rr        	sta     L060D+1
000472r 1  A5 rr        	lda     _ego_xdir
000474r 1  C9 01        	cmp     #$01
000476r 1  D0 06        	bne     L08FD
000478r 1  A5 rr        	lda     L0609
00047Ar 1  09 40        	ora     #$40
00047Cr 1  85 rr        	sta     L0609
00047Er 1  A9 00        L08FD:	lda     #$00
000480r 1  85 rr        	sta     _j
000482r 1  A5 rr        L08FE:	lda     _j
000484r 1  C9 04        	cmp     #$04
000486r 1  90 01        	bcc     L0904
000488r 1  60           	rts
000489r 1  A5 rr        L0904:	lda     _ego_x+3
00048Br 1  85 rr        	sta     sreg+1
00048Dr 1  A5 rr        	lda     _ego_x+2
00048Fr 1  85 rr        	sta     sreg
000491r 1  A5 rr        	lda     _ego_x+1
000493r 1  A6 rr        	ldx     sreg
000495r 1  A4 rr        	ldy     sreg+1
000497r 1  84 rr        	sty     sreg
000499r 1  C0 80        	cpy     #$80
00049Br 1  A0 00        	ldy     #$00
00049Dr 1  90 01        	bcc     L063B
00049Fr 1  88           	dey
0004A0r 1  84 rr        L063B:	sty     sreg+1
0004A2r 1  20 rr rr     	jsr     pusheax
0004A5r 1  A5 rr        	lda     _scroll_x_left
0004A7r 1  A6 rr        	ldx     _scroll_x_left+1
0004A9r 1  20 rr rr     	jsr     axlong
0004ACr 1  20 rr rr     	jsr     tossubeax
0004AFr 1  85 rr        	sta     L0638
0004B1r 1  A5 rr        	lda     _ego_xdir
0004B3r 1  C9 01        	cmp     #$01
0004B5r 1  D0 07        	bne     L08FF
0004B7r 1  A9 08        	lda     #$08
0004B9r 1  18           	clc
0004BAr 1  65 rr        	adc     L0638
0004BCr 1  85 rr        	sta     L0638
0004BEr 1  A9 00        L08FF:	lda     #$00
0004C0r 1  85 rr        	sta     _i
0004C2r 1  A5 rr        L0900:	lda     _i
0004C4r 1  C9 02        	cmp     #$02
0004C6r 1  90 03 4C rr  	jcs     L0641
0004CAr 1  rr           
0004CBr 1  A5 rr        	lda     L0603
0004CDr 1  85 rr        	sta     ptr1
0004CFr 1  A5 rr        	lda     L0603+1
0004D1r 1  85 rr        	sta     ptr1+1
0004D3r 1  A5 rr        	lda     L0638
0004D5r 1  A0 03        	ldy     #$03
0004D7r 1  91 rr        	sta     (ptr1),y
0004D9r 1  A5 rr        	lda     L0603
0004DBr 1  85 rr        	sta     ptr1
0004DDr 1  A5 rr        	lda     L0603+1
0004DFr 1  85 rr        	sta     ptr1+1
0004E1r 1  A5 rr        	lda     L0606
0004E3r 1  A0 00        	ldy     #$00
0004E5r 1  91 rr        	sta     (ptr1),y
0004E7r 1  A6 rr        	ldx     L0606+1
0004E9r 1  F0 0C        	beq     L064C
0004EBr 1  A5 rr        	lda     L0603
0004EDr 1  85 rr        	sta     ptr1
0004EFr 1  A5 rr        	lda     L0603+1
0004F1r 1  85 rr        	sta     ptr1+1
0004F3r 1  A9 FF        	lda     #$FF
0004F5r 1  91 rr        	sta     (ptr1),y
0004F7r 1  A5 rr        L064C:	lda     L0603
0004F9r 1  85 rr        	sta     sreg
0004FBr 1  A5 rr        	lda     L0603+1
0004FDr 1  85 rr        	sta     sreg+1
0004FFr 1  A5 rr        	lda     L060D
000501r 1  85 rr        	sta     ptr1
000503r 1  A5 rr        	lda     L060D+1
000505r 1  85 rr        	sta     ptr1+1
000507r 1  B1 rr        	lda     (ptr1),y
000509r 1  C9 FC        	cmp     #$FC
00050Br 1  F0 0F        	beq     L0656
00050Dr 1  A5 rr        	lda     L060D
00050Fr 1  85 rr        	sta     ptr1
000511r 1  A5 rr        	lda     L060D+1
000513r 1  85 rr        	sta     ptr1+1
000515r 1  B1 rr        	lda     (ptr1),y
000517r 1  29 7F        	and     #$7F
000519r 1  4C rr rr     	jmp     L0658
00051Cr 1  A5 rr        L0656:	lda     L060D
00051Er 1  85 rr        	sta     ptr1
000520r 1  A5 rr        	lda     L060D+1
000522r 1  85 rr        	sta     ptr1+1
000524r 1  B1 rr        	lda     (ptr1),y
000526r 1  C8           L0658:	iny
000527r 1  91 rr        	sta     (sreg),y
000529r 1  A5 rr        	lda     L0603
00052Br 1  85 rr        	sta     sreg
00052Dr 1  A5 rr        	lda     L0603+1
00052Fr 1  85 rr        	sta     sreg+1
000531r 1  A5 rr        	lda     L060D
000533r 1  85 rr        	sta     ptr1
000535r 1  A5 rr        	lda     L060D+1
000537r 1  85 rr        	sta     ptr1+1
000539r 1  88           	dey
00053Ar 1  B1 rr        	lda     (ptr1),y
00053Cr 1  29 80        	and     #$80
00053Er 1  F0 07        	beq     L0901
000540r 1  A5 rr        	lda     L0609
000542r 1  49 40        	eor     #$40
000544r 1  4C rr rr     	jmp     L065F
000547r 1  A5 rr        L0901:	lda     L0609
000549r 1  A0 02        L065F:	ldy     #$02
00054Br 1  91 rr        	sta     (sreg),y
00054Dr 1  A9 04        	lda     #$04
00054Fr 1  18           	clc
000550r 1  65 rr        	adc     L0603
000552r 1  85 rr        	sta     L0603
000554r 1  90 02        	bcc     L0662
000556r 1  E6 rr        	inc     L0603+1
000558r 1  E6 rr        L0662:	inc     L060D
00055Ar 1  D0 02        	bne     L0664
00055Cr 1  E6 rr        	inc     L060D+1
00055Er 1  A5 rr        L0664:	lda     _ego_xdir
000560r 1  C9 01        	cmp     #$01
000562r 1  D0 05        	bne     L0902
000564r 1  A9 F8        	lda     #$F8
000566r 1  4C rr rr     	jmp     L0669
000569r 1  A9 08        L0902:	lda     #$08
00056Br 1  18           L0669:	clc
00056Cr 1  65 rr        	adc     L0638
00056Er 1  85 rr        	sta     L0638
000570r 1  E6 rr        	inc     _i
000572r 1  4C rr rr     	jmp     L0900
000575r 1  A9 08        L0641:	lda     #$08
000577r 1  18           	clc
000578r 1  65 rr        	adc     L0606
00057Ar 1  85 rr        	sta     L0606
00057Cr 1  90 02        	bcc     L066D
00057Er 1  E6 rr        	inc     L0606+1
000580r 1  E6 rr        L066D:	inc     _j
000582r 1  4C rr rr     	jmp     L08FE
000585r 1               
000585r 1               .endproc
000585r 1               
000585r 1               ; ---------------------------------------------------------------
000585r 1               ; void __near__ update_ego_physics (void)
000585r 1               ; ---------------------------------------------------------------
000585r 1               
000585r 1               .segment	"CODE"
000585r 1               
000585r 1               .proc	_update_ego_physics: near
000585r 1               
000585r 1               .segment	"CODE"
000585r 1               
000585r 1  A5 rr        	lda     _ego_xv
000587r 1  A6 rr        	ldx     _ego_xv+1
000589r 1  20 rr rr     	jsr     axlong
00058Cr 1  A0 rr        	ldy     #<(_ego_x)
00058Er 1  84 rr        	sty     ptr1
000590r 1  A0 rr        	ldy     #>(_ego_x)
000592r 1  20 rr rr     	jsr     laddeq
000595r 1  A5 rr        	lda     _ego_x+3
000597r 1  85 rr        	sta     sreg+1
000599r 1  A5 rr        	lda     _ego_x+2
00059Br 1  85 rr        	sta     sreg
00059Dr 1  A5 rr        	lda     _ego_x+1
00059Fr 1  A6 rr        	ldx     sreg
0005A1r 1  A4 rr        	ldy     sreg+1
0005A3r 1  84 rr        	sty     sreg
0005A5r 1  C0 80        	cpy     #$80
0005A7r 1  A0 00        	ldy     #$00
0005A9r 1  90 01        	bcc     L0673
0005ABr 1  88           	dey
0005ACr 1  84 rr        L0673:	sty     sreg+1
0005AEr 1  20 rr rr     	jsr     pusheax
0005B1r 1  A5 rr        	lda     _scroll_x_left
0005B3r 1  A6 rr        	ldx     _scroll_x_left+1
0005B5r 1  20 rr rr     	jsr     axlong
0005B8r 1  20 rr rr     	jsr     toslteax
0005BBr 1  F0 1F        	beq     L0671
0005BDr 1  A5 rr        	lda     _scroll_x_left
0005BFr 1  A6 rr        	ldx     _scroll_x_left+1
0005C1r 1  20 rr rr     	jsr     axlong
0005C4r 1  A4 rr        	ldy     sreg
0005C6r 1  84 rr        	sty     sreg+1
0005C8r 1  86 rr        	stx     sreg
0005CAr 1  85 rr        	sta     _ego_x+1
0005CCr 1  A9 00        	lda     #$00
0005CEr 1  85 rr        	sta     _ego_x
0005D0r 1  A4 rr        	ldy     sreg
0005D2r 1  84 rr        	sty     _ego_x+2
0005D4r 1  A4 rr        	ldy     sreg+1
0005D6r 1  84 rr        	sty     _ego_x+3
0005D8r 1  85 rr        	sta     _ego_xv
0005DAr 1  85 rr        	sta     _ego_xv+1
0005DCr 1  A5 rr        L0671:	lda     _ego_yv
0005DEr 1  A6 rr        	ldx     _ego_yv+1
0005E0r 1  20 rr rr     	jsr     axlong
0005E3r 1  A0 rr        	ldy     #<(_ego_y)
0005E5r 1  84 rr        	sty     ptr1
0005E7r 1  A0 rr        	ldy     #>(_ego_y)
0005E9r 1  20 rr rr     	jsr     laddeq
0005ECr 1  A5 rr        	lda     _ego_xa
0005EEr 1  18           	clc
0005EFr 1  65 rr        	adc     _ego_xv
0005F1r 1  85 rr        	sta     _ego_xv
0005F3r 1  A5 rr        	lda     _ego_xa+1
0005F5r 1  65 rr        	adc     _ego_xv+1
0005F7r 1  85 rr        	sta     _ego_xv+1
0005F9r 1  A9 3C        	lda     #$3C
0005FBr 1  18           	clc
0005FCr 1  65 rr        	adc     _ego_yv
0005FEr 1  85 rr        	sta     _ego_yv
000600r 1  90 02        	bcc     L067F
000602r 1  E6 rr        	inc     _ego_yv+1
000604r 1  A5 rr        L067F:	lda     _ego_throttle
000606r 1  F0 26        	beq     L0680
000608r 1  A5 rr        	lda     _ego_xv
00060Ar 1  C9 01        	cmp     #$01
00060Cr 1  A5 rr        	lda     _ego_xv+1
00060Er 1  E9 04        	sbc     #$04
000610r 1  70 02        	bvs     L0685
000612r 1  49 80        	eor     #$80
000614r 1  10 05        L0685:	bpl     L0682
000616r 1  A2 04        	ldx     #$04
000618r 1  4C rr rr     	jmp     L0909
00061Br 1  A5 rr        L0682:	lda     _ego_xv
00061Dr 1  C9 00        	cmp     #$00
00061Fr 1  A5 rr        	lda     _ego_xv+1
000621r 1  E9 FC        	sbc     #$FC
000623r 1  50 02        	bvc     L068D
000625r 1  49 80        	eor     #$80
000627r 1  10 2E        L068D:	bpl     L069A
000629r 1  A2 FC        	ldx     #$FC
00062Br 1  4C rr rr     	jmp     L0909
00062Er 1  A5 rr        L0680:	lda     _ego_xv
000630r 1  C9 01        	cmp     #$01
000632r 1  A5 rr        	lda     _ego_xv+1
000634r 1  E9 02        	sbc     #$02
000636r 1  70 02        	bvs     L0695
000638r 1  49 80        	eor     #$80
00063Ar 1  10 05        L0695:	bpl     L0692
00063Cr 1  A2 02        	ldx     #$02
00063Er 1  4C rr rr     	jmp     L0909
000641r 1  A5 rr        L0692:	lda     _ego_xv
000643r 1  C9 00        	cmp     #$00
000645r 1  A5 rr        	lda     _ego_xv+1
000647r 1  E9 FE        	sbc     #$FE
000649r 1  50 02        	bvc     L069D
00064Br 1  49 80        	eor     #$80
00064Dr 1  10 08        L069D:	bpl     L069A
00064Fr 1  A2 FE        	ldx     #$FE
000651r 1  A9 00        L0909:	lda     #$00
000653r 1  85 rr        	sta     _ego_xv
000655r 1  86 rr        	stx     _ego_xv+1
000657r 1  A6 rr        L069A:	ldx     _ego_xv+1
000659r 1  E0 80        	cpx     #$80
00065Br 1  90 1C        	bcc     L06A1
00065Dr 1  A9 07        	lda     #$07
00065Fr 1  18           	clc
000660r 1  65 rr        	adc     _ego_xv
000662r 1  85 rr        	sta     _ego_xv
000664r 1  90 02        	bcc     L06A5
000666r 1  E6 rr        	inc     _ego_xv+1
000668r 1  A5 rr        L06A5:	lda     _ego_xv
00066Ar 1  C9 01        	cmp     #$01
00066Cr 1  A5 rr        	lda     _ego_xv+1
00066Er 1  E9 00        	sbc     #$00
000670r 1  70 02        	bvs     L06A8
000672r 1  49 80        	eor     #$80
000674r 1  10 28        L06A8:	bpl     L06B2
000676r 1  4C rr rr     	jmp     L090A
000679r 1  A5 rr        L06A1:	lda     _ego_xv
00067Br 1  C9 01        	cmp     #$01
00067Dr 1  A5 rr        	lda     _ego_xv+1
00067Fr 1  E9 00        	sbc     #$00
000681r 1  70 02        	bvs     L06AE
000683r 1  49 80        	eor     #$80
000685r 1  10 17        L06AE:	bpl     L06B2
000687r 1  A5 rr        	lda     _ego_xv
000689r 1  38           	sec
00068Ar 1  E9 07        	sbc     #$07
00068Cr 1  85 rr        	sta     _ego_xv
00068Er 1  B0 02        	bcs     L06B1
000690r 1  C6 rr        	dec     _ego_xv+1
000692r 1  A6 rr        L06B1:	ldx     _ego_xv+1
000694r 1  E0 80        	cpx     #$80
000696r 1  90 06        	bcc     L06B2
000698r 1  A9 00        L090A:	lda     #$00
00069Ar 1  85 rr        	sta     _ego_xv
00069Cr 1  85 rr        	sta     _ego_xv+1
00069Er 1  60           L06B2:	rts
00069Fr 1               
00069Fr 1               .endproc
00069Fr 1               
00069Fr 1               ; ---------------------------------------------------------------
00069Fr 1               ; void __near__ scroll (unsigned char)
00069Fr 1               ; ---------------------------------------------------------------
00069Fr 1               
00069Fr 1               .segment	"CODE"
00069Fr 1               
00069Fr 1               .proc	_scroll: near
00069Fr 1               
00069Fr 1               .segment	"ZEROPAGE"
000096r 1               
000096r 1               L0536:
000096r 1  00 00        	.res	2,$00
000098r 1               L0537:
000098r 1  00           	.res	1,$00
000099r 1               L0538:
000099r 1  00           	.res	1,$00
00009Ar 1               L0539:
00009Ar 1  00 00        	.res	2,$00
00009Cr 1               L053A:
00009Cr 1  00 00        	.res	2,$00
00009Er 1               L053B:
00009Er 1  00 00        	.res	2,$00
0000A0r 1               L053C:
0000A0r 1  00 00        	.res	2,$00
0000A2r 1               L053D:
0000A2r 1  00           	.res	1,$00
0000A3r 1               
0000A3r 1               .segment	"CODE"
00069Fr 1               
00069Fr 1  A0 00        	ldy     #$00
0006A1r 1  B1 rr        	lda     (sp),y
0006A3r 1  D0 03        	bne     L0919
0006A5r 1  4C rr rr     	jmp     incsp1
0006A8r 1  A9 rr        L0919:	lda     #<(_src_map_exported_map+2)
0006AAr 1  85 rr        	sta     L0539
0006ACr 1  A9 rr        	lda     #>(_src_map_exported_map+2)
0006AEr 1  85 rr        	sta     L0539+1
0006B0r 1  A9 rr        	lda     #<(_nt_buffer)
0006B2r 1  85 rr        	sta     L053B
0006B4r 1  A9 rr        	lda     #>(_nt_buffer)
0006B6r 1  85 rr        	sta     L053B+1
0006B8r 1  B1 rr        	lda     (sp),y
0006BAr 1  18           	clc
0006BBr 1  65 rr        	adc     _scroll_x_left
0006BDr 1  85 rr        	sta     _scroll_x_left
0006BFr 1  98           	tya
0006C0r 1  65 rr        	adc     _scroll_x_left+1
0006C2r 1  85 rr        	sta     _scroll_x_left+1
0006C4r 1  A5 rr        	lda     _scroll_x_left
0006C6r 1  A6 rr        	ldx     _scroll_x_left+1
0006C8r 1  18           	clc
0006C9r 1  69 FF        	adc     #$FF
0006CBr 1  90 01        	bcc     L054A
0006CDr 1  E8           	inx
0006CEr 1  20 rr rr     L054A:	jsr     asrax3
0006D1r 1  85 rr        	sta     L0536
0006D3r 1  86 rr        	stx     L0536+1
0006D5r 1  E4 rr        	cpx     _valid_tilecol+1
0006D7r 1  D0 07        	bne     L0917
0006D9r 1  C5 rr        	cmp     _valid_tilecol
0006DBr 1  D0 03 4C rr  	jeq     L054B
0006DFr 1  rr           
0006E0r 1  A5 rr        L0917:	lda     L0536
0006E2r 1  A6 rr        	ldx     L0536+1
0006E4r 1  85 rr        	sta     _valid_tilecol
0006E6r 1  86 rr        	stx     _valid_tilecol+1
0006E8r 1  20 rr rr     	jsr     shrax1
0006EBr 1  18           	clc
0006ECr 1  65 rr        	adc     L0539
0006EEr 1  85 rr        	sta     L0539
0006F0r 1  8A           	txa
0006F1r 1  65 rr        	adc     L0539+1
0006F3r 1  85 rr        	sta     L0539+1
0006F5r 1  A5 rr        	lda     _valid_tilecol
0006F7r 1  29 01        	and     #$01
0006F9r 1  D0 5F        	bne     L0912
0006FBr 1  85 rr        	sta     _i
0006FDr 1  A5 rr        L0911:	lda     _i
0006FFr 1  C9 0E        	cmp     #$0E
000701r 1  90 03 4C rr  	jcs     L0914
000705r 1  rr           
000706r 1  A5 rr        	lda     L0539
000708r 1  85 rr        	sta     ptr1
00070Ar 1  A5 rr        	lda     L0539+1
00070Cr 1  85 rr        	sta     ptr1+1
00070Er 1  B1 rr        	lda     (ptr1),y
000710r 1  85 rr        	sta     L0538
000712r 1  A5 rr        	lda     L053B
000714r 1  A6 rr        	ldx     L053B+1
000716r 1  85 rr        	sta     regsave
000718r 1  86 rr        	stx     regsave+1
00071Ar 1  18           	clc
00071Br 1  69 01        	adc     #$01
00071Dr 1  90 01        	bcc     L0560
00071Fr 1  E8           	inx
000720r 1  85 rr        L0560:	sta     L053B
000722r 1  86 rr        	stx     L053B+1
000724r 1  A4 rr        	ldy     L0538
000726r 1  B9 rr rr     	lda     _src_map_exported_metatiles,y
000729r 1  A0 00        	ldy     #$00
00072Br 1  91 rr        	sta     (regsave),y
00072Dr 1  A5 rr        	lda     L053B
00072Fr 1  A6 rr        	ldx     L053B+1
000731r 1  85 rr        	sta     regsave
000733r 1  86 rr        	stx     regsave+1
000735r 1  18           	clc
000736r 1  69 01        	adc     #$01
000738r 1  90 01        	bcc     L0566
00073Ar 1  E8           	inx
00073Br 1  85 rr        L0566:	sta     L053B
00073Dr 1  86 rr        	stx     L053B+1
00073Fr 1  A4 rr        	ldy     L0538
000741r 1  B9 rr rr     	lda     _src_map_exported_metatiles+512,y
000744r 1  A0 00        	ldy     #$00
000746r 1  91 rr        	sta     (regsave),y
000748r 1  AD rr rr     	lda     _src_map_exported_map
00074Br 1  18           	clc
00074Cr 1  65 rr        	adc     L0539
00074Er 1  85 rr        	sta     L0539
000750r 1  98           	tya
000751r 1  65 rr        	adc     L0539+1
000753r 1  85 rr        	sta     L0539+1
000755r 1  E6 rr        	inc     _i
000757r 1  4C rr rr     	jmp     L0911
00075Ar 1  84 rr        L0912:	sty     _i
00075Cr 1  A5 rr        L0913:	lda     _i
00075Er 1  C9 0E        	cmp     #$0E
000760r 1  B0 54        	bcs     L0914
000762r 1  A5 rr        	lda     L0539
000764r 1  85 rr        	sta     ptr1
000766r 1  A5 rr        	lda     L0539+1
000768r 1  85 rr        	sta     ptr1+1
00076Ar 1  B1 rr        	lda     (ptr1),y
00076Cr 1  85 rr        	sta     L0538
00076Er 1  A5 rr        	lda     L053B
000770r 1  A6 rr        	ldx     L053B+1
000772r 1  85 rr        	sta     regsave
000774r 1  86 rr        	stx     regsave+1
000776r 1  18           	clc
000777r 1  69 01        	adc     #$01
000779r 1  90 01        	bcc     L057A
00077Br 1  E8           	inx
00077Cr 1  85 rr        L057A:	sta     L053B
00077Er 1  86 rr        	stx     L053B+1
000780r 1  A4 rr        	ldy     L0538
000782r 1  B9 rr rr     	lda     _src_map_exported_metatiles+256,y
000785r 1  A0 00        	ldy     #$00
000787r 1  91 rr        	sta     (regsave),y
000789r 1  A5 rr        	lda     L053B
00078Br 1  A6 rr        	ldx     L053B+1
00078Dr 1  85 rr        	sta     regsave
00078Fr 1  86 rr        	stx     regsave+1
000791r 1  18           	clc
000792r 1  69 01        	adc     #$01
000794r 1  90 01        	bcc     L0580
000796r 1  E8           	inx
000797r 1  85 rr        L0580:	sta     L053B
000799r 1  86 rr        	stx     L053B+1
00079Br 1  A4 rr        	ldy     L0538
00079Dr 1  B9 rr rr     	lda     _src_map_exported_metatiles+768,y
0007A0r 1  A0 00        	ldy     #$00
0007A2r 1  91 rr        	sta     (regsave),y
0007A4r 1  AD rr rr     	lda     _src_map_exported_map
0007A7r 1  18           	clc
0007A8r 1  65 rr        	adc     L0539
0007AAr 1  85 rr        	sta     L0539
0007ACr 1  98           	tya
0007ADr 1  65 rr        	adc     L0539+1
0007AFr 1  85 rr        	sta     L0539+1
0007B1r 1  E6 rr        	inc     _i
0007B3r 1  4C rr rr     	jmp     L0913
0007B6r 1  A9 01        L0914:	lda     #$01
0007B8r 1  85 rr        	sta     _nt_buffer_full
0007BAr 1  A9 rr        L054B:	lda     #<(_src_map_exported_map+2)
0007BCr 1  85 rr        	sta     L0539
0007BEr 1  A9 rr        	lda     #>(_src_map_exported_map+2)
0007C0r 1  85 rr        	sta     L0539+1
0007C2r 1  AD rr rr     	lda     _src_map_exported_map
0007C5r 1  18           	clc
0007C6r 1  69 rr        	adc     #<(_src_map_exported_map+2)
0007C8r 1  85 rr        	sta     L053A
0007CAr 1  98           	tya
0007CBr 1  69 rr        	adc     #>(_src_map_exported_map+2)
0007CDr 1  85 rr        	sta     L053A+1
0007CFr 1  A9 rr        	lda     #<(_attr_buffer)
0007D1r 1  85 rr        	sta     L053C
0007D3r 1  A9 rr        	lda     #>(_attr_buffer)
0007D5r 1  85 rr        	sta     L053C+1
0007D7r 1  A5 rr        	lda     _scroll_x_left
0007D9r 1  A6 rr        	ldx     _scroll_x_left+1
0007DBr 1  18           	clc
0007DCr 1  69 FF        	adc     #$FF
0007DEr 1  90 01        	bcc     L0596
0007E0r 1  E8           	inx
0007E1r 1  20 rr rr     L0596:	jsr     asrax4
0007E4r 1  20 rr rr     	jsr     asrax1
0007E7r 1  85 rr        	sta     L0537
0007E9r 1  A5 rr        	lda     _valid_attrcol
0007EBr 1  A6 rr        	ldx     _valid_attrcol+1
0007EDr 1  E0 00        	cpx     #$00
0007EFr 1  D0 07        	bne     L0918
0007F1r 1  C5 rr        	cmp     L0537
0007F3r 1  D0 03        	bne     L0918
0007F5r 1  4C rr rr     	jmp     incsp1
0007F8r 1  A5 rr        L0918:	lda     L0537
0007FAr 1  A2 00        	ldx     #$00
0007FCr 1  85 rr        	sta     _valid_attrcol
0007FEr 1  86 rr        	stx     _valid_attrcol+1
000800r 1  0A           	asl     a
000801r 1  90 02        	bcc     L0910
000803r 1  E8           	inx
000804r 1  18           	clc
000805r 1  65 rr        L0910:	adc     L0539
000807r 1  85 rr        	sta     L0539
000809r 1  8A           	txa
00080Ar 1  65 rr        	adc     L0539+1
00080Cr 1  85 rr        	sta     L0539+1
00080Er 1  A5 rr        	lda     _valid_attrcol
000810r 1  A6 rr        	ldx     _valid_attrcol+1
000812r 1  86 rr        	stx     tmp1
000814r 1  0A           	asl     a
000815r 1  26 rr        	rol     tmp1
000817r 1  18           	clc
000818r 1  65 rr        	adc     L053A
00081Ar 1  85 rr        	sta     L053A
00081Cr 1  A5 rr        	lda     tmp1
00081Er 1  65 rr        	adc     L053A+1
000820r 1  85 rr        	sta     L053A+1
000822r 1  84 rr        	sty     _i
000824r 1  A5 rr        L0915:	lda     _i
000826r 1  C9 08        	cmp     #$08
000828r 1  90 03 4C rr  	jcs     L0916
00082Cr 1  rr           
00082Dr 1  A5 rr        	lda     L0539
00082Fr 1  A6 rr        	ldx     L0539+1
000831r 1  85 rr        	sta     regsave
000833r 1  86 rr        	stx     regsave+1
000835r 1  18           	clc
000836r 1  69 01        	adc     #$01
000838r 1  90 01        	bcc     L05AA
00083Ar 1  E8           	inx
00083Br 1  85 rr        L05AA:	sta     L0539
00083Dr 1  86 rr        	stx     L0539+1
00083Fr 1  B1 rr        	lda     (regsave),y
000841r 1  85 rr        	sta     ptr1
000843r 1  98           	tya
000844r 1  18           	clc
000845r 1  69 rr        	adc     #>(_src_map_exported_attrib)
000847r 1  85 rr        	sta     ptr1+1
000849r 1  A0 rr        	ldy     #<(_src_map_exported_attrib)
00084Br 1  B1 rr        	lda     (ptr1),y
00084Dr 1  85 rr        	sta     L053D
00084Fr 1  A5 rr        	lda     L0539
000851r 1  85 rr        	sta     ptr1
000853r 1  A5 rr        	lda     L0539+1
000855r 1  85 rr        	sta     ptr1+1
000857r 1  A0 00        	ldy     #$00
000859r 1  B1 rr        	lda     (ptr1),y
00085Br 1  85 rr        	sta     ptr1
00085Dr 1  98           	tya
00085Er 1  18           	clc
00085Fr 1  69 rr        	adc     #>(_src_map_exported_attrib)
000861r 1  85 rr        	sta     ptr1+1
000863r 1  A0 rr        	ldy     #<(_src_map_exported_attrib)
000865r 1  A2 00        	ldx     #$00
000867r 1  B1 rr        	lda     (ptr1),y
000869r 1  20 rr rr     	jsr     aslax2
00086Cr 1  05 rr        	ora     L053D
00086Er 1  85 rr        	sta     L053D
000870r 1  A5 rr        	lda     L053D
000872r 1  20 rr rr     	jsr     pusha0
000875r 1  A5 rr        	lda     L053A
000877r 1  A6 rr        	ldx     L053A+1
000879r 1  85 rr        	sta     regsave
00087Br 1  86 rr        	stx     regsave+1
00087Dr 1  18           	clc
00087Er 1  69 01        	adc     #$01
000880r 1  90 01        	bcc     L05B3
000882r 1  E8           	inx
000883r 1  85 rr        L05B3:	sta     L053A
000885r 1  86 rr        	stx     L053A+1
000887r 1  A0 00        	ldy     #$00
000889r 1  B1 rr        	lda     (regsave),y
00088Br 1  85 rr        	sta     ptr1
00088Dr 1  98           	tya
00088Er 1  18           	clc
00088Fr 1  69 rr        	adc     #>(_src_map_exported_attrib)
000891r 1  85 rr        	sta     ptr1+1
000893r 1  A0 rr        	ldy     #<(_src_map_exported_attrib)
000895r 1  A2 00        	ldx     #$00
000897r 1  B1 rr        	lda     (ptr1),y
000899r 1  20 rr rr     	jsr     aslax4
00089Cr 1  20 rr rr     	jsr     tosorax
00089Fr 1  85 rr        	sta     L053D
0008A1r 1  A5 rr        	lda     L053A
0008A3r 1  85 rr        	sta     ptr1
0008A5r 1  A5 rr        	lda     L053A+1
0008A7r 1  85 rr        	sta     ptr1+1
0008A9r 1  A0 00        	ldy     #$00
0008ABr 1  B1 rr        	lda     (ptr1),y
0008ADr 1  85 rr        	sta     ptr1
0008AFr 1  98           	tya
0008B0r 1  18           	clc
0008B1r 1  69 rr        	adc     #>(_src_map_exported_attrib)
0008B3r 1  85 rr        	sta     ptr1+1
0008B5r 1  A0 rr        	ldy     #<(_src_map_exported_attrib)
0008B7r 1  A2 00        	ldx     #$00
0008B9r 1  B1 rr        	lda     (ptr1),y
0008BBr 1  20 rr rr     	jsr     aslax4
0008BEr 1  20 rr rr     	jsr     aslax2
0008C1r 1  05 rr        	ora     L053D
0008C3r 1  85 rr        	sta     L053D
0008C5r 1  A5 rr        	lda     L053C
0008C7r 1  A6 rr        	ldx     L053C+1
0008C9r 1  85 rr        	sta     regsave
0008CBr 1  86 rr        	stx     regsave+1
0008CDr 1  18           	clc
0008CEr 1  69 01        	adc     #$01
0008D0r 1  90 01        	bcc     L05B9
0008D2r 1  E8           	inx
0008D3r 1  85 rr        L05B9:	sta     L053C
0008D5r 1  86 rr        	stx     L053C+1
0008D7r 1  A5 rr        	lda     L053D
0008D9r 1  A0 00        	ldy     #$00
0008DBr 1  91 rr        	sta     (regsave),y
0008DDr 1  A2 00        	ldx     #$00
0008DFr 1  AD rr rr     	lda     _src_map_exported_map
0008E2r 1  18           	clc
0008E3r 1  6D rr rr     	adc     _src_map_exported_map
0008E6r 1  90 01        	bcc     L090B
0008E8r 1  E8           	inx
0008E9r 1  38           L090B:	sec
0008EAr 1  E9 01        	sbc     #$01
0008ECr 1  B0 01        	bcs     L05BF
0008EEr 1  CA           	dex
0008EFr 1  18           L05BF:	clc
0008F0r 1  65 rr        	adc     L0539
0008F2r 1  85 rr        	sta     L0539
0008F4r 1  8A           	txa
0008F5r 1  65 rr        	adc     L0539+1
0008F7r 1  85 rr        	sta     L0539+1
0008F9r 1  A2 00        	ldx     #$00
0008FBr 1  AD rr rr     	lda     _src_map_exported_map
0008FEr 1  18           	clc
0008FFr 1  6D rr rr     	adc     _src_map_exported_map
000902r 1  90 01        	bcc     L090C
000904r 1  E8           	inx
000905r 1  38           L090C:	sec
000906r 1  E9 01        	sbc     #$01
000908r 1  B0 01        	bcs     L05C4
00090Ar 1  CA           	dex
00090Br 1  18           L05C4:	clc
00090Cr 1  65 rr        	adc     L053A
00090Er 1  85 rr        	sta     L053A
000910r 1  8A           	txa
000911r 1  65 rr        	adc     L053A+1
000913r 1  85 rr        	sta     L053A+1
000915r 1  E6 rr        	inc     _i
000917r 1  4C rr rr     	jmp     L0915
00091Ar 1  A9 01        L0916:	lda     #$01
00091Cr 1  85 rr        	sta     _attr_buffer_full
00091Er 1  4C rr rr     	jmp     incsp1
000921r 1               
000921r 1               .endproc
000921r 1               
000921r 1               ; ---------------------------------------------------------------
000921r 1               ; void __near__ upload_ppu_buffers (void)
000921r 1               ; ---------------------------------------------------------------
000921r 1               
000921r 1               .segment	"CODE"
000921r 1               
000921r 1               .proc	_upload_ppu_buffers: near
000921r 1               
000921r 1               .segment	"ZEROPAGE"
0000A3r 1               
0000A3r 1               L04C2:
0000A3r 1  00 00        	.res	2,$00
0000A5r 1               
0000A5r 1               .segment	"CODE"
000921r 1               
000921r 1  A5 rr        	lda     _nt_buffer_full
000923r 1  F0 5B        	beq     L04C3
000925r 1  A9 94        	lda     #$94
000927r 1  8D 00 20     	sta     $2000
00092Ar 1  A5 rr        	lda     _valid_tilecol
00092Cr 1  29 3F        	and     #$3F
00092Er 1  C9 20        	cmp     #$20
000930r 1  B0 19        	bcs     L04C8
000932r 1  A5 rr        	lda     _valid_tilecol
000934r 1  29 1F        	and     #$1F
000936r 1  A9 00        	lda     #$00
000938r 1  18           	clc
000939r 1  69 20        	adc     #$20
00093Br 1  8D 06 20     	sta     $2006
00093Er 1  A5 rr        	lda     _valid_tilecol
000940r 1  29 1F        	and     #$1F
000942r 1  48           	pha
000943r 1  A9 00        	lda     #$00
000945r 1  18           	clc
000946r 1  69 20        	adc     #$20
000948r 1  4C rr rr     	jmp     L0920
00094Br 1  A5 rr        L04C8:	lda     _valid_tilecol
00094Dr 1  29 1F        	and     #$1F
00094Fr 1  A9 00        	lda     #$00
000951r 1  18           	clc
000952r 1  69 24        	adc     #$24
000954r 1  8D 06 20     	sta     $2006
000957r 1  A5 rr        	lda     _valid_tilecol
000959r 1  29 1F        	and     #$1F
00095Br 1  48           	pha
00095Cr 1  A9 00        	lda     #$00
00095Er 1  18           	clc
00095Fr 1  69 24        	adc     #$24
000961r 1  68           L0920:	pla
000962r 1  8D 06 20     	sta     $2006
000965r 1  A9 00        	lda     #$00
000967r 1  85 rr        	sta     _i
000969r 1  A5 rr        L091C:	lda     _i
00096Br 1  C9 1C        	cmp     #$1C
00096Dr 1  B0 0D        	bcs     L091D
00096Fr 1  A4 rr        	ldy     _i
000971r 1  B9 rr rr     	lda     _nt_buffer,y
000974r 1  8D 07 20     	sta     $2007
000977r 1  E6 rr        	inc     _i
000979r 1  4C rr rr     	jmp     L091C
00097Cr 1  A9 00        L091D:	lda     #$00
00097Er 1  85 rr        	sta     _nt_buffer_full
000980r 1  A5 rr        L04C3:	lda     _attr_buffer_full
000982r 1  F0 5C        	beq     L0502
000984r 1  A9 90        	lda     #$90
000986r 1  8D 00 20     	sta     $2000
000989r 1  A5 rr        	lda     _valid_attrcol
00098Br 1  29 0F        	and     #$0F
00098Dr 1  C9 08        	cmp     #$08
00098Fr 1  B0 10        	bcs     L0507
000991r 1  A5 rr        	lda     _valid_attrcol
000993r 1  29 07        	and     #$07
000995r 1  18           	clc
000996r 1  69 C0        	adc     #$C0
000998r 1  85 rr        	sta     L04C2
00099Ar 1  A9 00        	lda     #$00
00099Cr 1  69 23        	adc     #$23
00099Er 1  4C rr rr     	jmp     L0921
0009A1r 1  A5 rr        L0507:	lda     _valid_attrcol
0009A3r 1  29 07        	and     #$07
0009A5r 1  18           	clc
0009A6r 1  69 C0        	adc     #$C0
0009A8r 1  85 rr        	sta     L04C2
0009AAr 1  A9 00        	lda     #$00
0009ACr 1  69 27        	adc     #$27
0009AEr 1  85 rr        L0921:	sta     L04C2+1
0009B0r 1  A9 00        	lda     #$00
0009B2r 1  85 rr        	sta     _i
0009B4r 1  A5 rr        L091E:	lda     _i
0009B6r 1  C9 08        	cmp     #$08
0009B8r 1  B0 22        	bcs     L091F
0009BAr 1  A6 rr        	ldx     L04C2+1
0009BCr 1  8E 06 20     	stx     $2006
0009BFr 1  A5 rr        	lda     L04C2
0009C1r 1  8D 06 20     	sta     $2006
0009C4r 1  A4 rr        	ldy     _i
0009C6r 1  B9 rr rr     	lda     _attr_buffer,y
0009C9r 1  8D 07 20     	sta     $2007
0009CCr 1  A9 08        	lda     #$08
0009CEr 1  18           	clc
0009CFr 1  65 rr        	adc     L04C2
0009D1r 1  85 rr        	sta     L04C2
0009D3r 1  90 02        	bcc     L0532
0009D5r 1  E6 rr        	inc     L04C2+1
0009D7r 1  E6 rr        L0532:	inc     _i
0009D9r 1  4C rr rr     	jmp     L091E
0009DCr 1  A9 00        L091F:	lda     #$00
0009DEr 1  85 rr        	sta     _attr_buffer_full
0009E0r 1  60           L0502:	rts
0009E1r 1               
0009E1r 1               .endproc
0009E1r 1               
0009E1r 1               ; ---------------------------------------------------------------
0009E1r 1               ; void __near__ check_ego_x_collisions (void)
0009E1r 1               ; ---------------------------------------------------------------
0009E1r 1               
0009E1r 1               .segment	"CODE"
0009E1r 1               
0009E1r 1               .proc	_check_ego_x_collisions: near
0009E1r 1               
0009E1r 1               .segment	"ZEROPAGE"
0000A5r 1               
0000A5r 1               L06B7:
0000A5r 1  00           	.res	1,$00
0000A6r 1               L06B8:
0000A6r 1  00           	.res	1,$00
0000A7r 1               L06B9:
0000A7r 1  00           	.res	1,$00
0000A8r 1               L06BA:
0000A8r 1  00 00        	.res	2,$00
0000AAr 1               L06BD:
0000AAr 1  00 00        	.res	2,$00
0000ACr 1               L06BE:
0000ACr 1  00           	.res	1,$00
0000ADr 1               L06BF:
0000ADr 1  00           	.res	1,$00
0000AEr 1               L06C0:
0000AEr 1  00           	.res	1,$00
0000AFr 1               
0000AFr 1               .segment	"CODE"
0009E1r 1               
0009E1r 1  A5 rr        	lda     _ego_x+3
0009E3r 1  85 rr        	sta     sreg+1
0009E5r 1  A5 rr        	lda     _ego_x+2
0009E7r 1  85 rr        	sta     sreg
0009E9r 1  A5 rr        	lda     _ego_x+1
0009EBr 1  A6 rr        	ldx     sreg
0009EDr 1  A4 rr        	ldy     sreg+1
0009EFr 1  C0 80        	cpy     #$80
0009F1r 1  85 rr        	sta     L06BA
0009F3r 1  86 rr        	stx     L06BA+1
0009F5r 1  A5 rr        	lda     _ego_squatting
0009F7r 1  F0 02        	beq     L06C4
0009F9r 1  A9 10        	lda     #$10
0009FBr 1  85 rr        L06C4:	sta     L06C0
0009FDr 1  A5 rr        	lda     _old_ego_x
0009FFr 1  A6 rr        	ldx     _old_ego_x+1
000A01r 1  E4 rr        	cpx     L06BA+1
000A03r 1  D0 05        	bne     L092C
000A05r 1  C5 rr        	cmp     L06BA
000A07r 1  D0 01        	bne     L092C
000A09r 1  60           	rts
000A0Ar 1  A5 rr        L092C:	lda     L06BA
000A0Cr 1  38           	sec
000A0Dr 1  E5 rr        	sbc     _old_ego_x
000A0Fr 1  85 rr        	sta     tmp1
000A11r 1  A5 rr        	lda     L06BA+1
000A13r 1  E5 rr        	sbc     _old_ego_x+1
000A15r 1  05 rr        	ora     tmp1
000A17r 1  90 16        	bcc     L06C8
000A19r 1  F0 14        	beq     L06C8
000A1Br 1  A5 rr        	lda     L06BA
000A1Dr 1  A6 rr        	ldx     L06BA+1
000A1Fr 1  18           	clc
000A20r 1  69 0F        	adc     #$0F
000A22r 1  90 01        	bcc     L06CD
000A24r 1  E8           	inx
000A25r 1  20 rr rr     L06CD:	jsr     shrax4
000A28r 1  85 rr        	sta     L06B7
000A2Ar 1  A9 00        	lda     #$00
000A2Cr 1  4C rr rr     	jmp     L0925
000A2Fr 1  A5 rr        L06C8:	lda     L06BA
000A31r 1  A6 rr        	ldx     L06BA+1
000A33r 1  20 rr rr     	jsr     shrax4
000A36r 1  85 rr        	sta     L06B7
000A38r 1  A9 01        	lda     #$01
000A3Ar 1  85 rr        L0925:	sta     L06BF
000A3Cr 1  A5 rr        	lda     _old_ego_y
000A3Er 1  A6 rr        	ldx     _old_ego_y+1
000A40r 1  18           	clc
000A41r 1  65 rr        	adc     L06C0
000A43r 1  90 01        	bcc     L0922
000A45r 1  E8           	inx
000A46r 1  20 rr rr     L0922:	jsr     shrax4
000A49r 1  85 rr        	sta     L06B8
000A4Br 1  A5 rr        	lda     _old_ego_y
000A4Dr 1  A6 rr        	ldx     _old_ego_y+1
000A4Fr 1  18           	clc
000A50r 1  69 1F        	adc     #$1F
000A52r 1  90 01        	bcc     L06DC
000A54r 1  E8           	inx
000A55r 1  20 rr rr     L06DC:	jsr     shrax4
000A58r 1  20 rr rr     	jsr     pushax
000A5Br 1  A5 rr        	lda     _old_ego_y
000A5Dr 1  A6 rr        	ldx     _old_ego_y+1
000A5Fr 1  18           	clc
000A60r 1  65 rr        	adc     L06C0
000A62r 1  90 01        	bcc     L0923
000A64r 1  E8           	inx
000A65r 1  20 rr rr     L0923:	jsr     shrax4
000A68r 1  20 rr rr     	jsr     tossubax
000A6Br 1  18           	clc
000A6Cr 1  69 01        	adc     #$01
000A6Er 1  85 rr        	sta     L06B9
000A70r 1  A9 rr        	lda     #<(_src_map_exported_map+2)
000A72r 1  85 rr        	sta     L06BD
000A74r 1  A9 rr        	lda     #>(_src_map_exported_map+2)
000A76r 1  85 rr        	sta     L06BD+1
000A78r 1  A5 rr        	lda     L06B7
000A7Ar 1  18           	clc
000A7Br 1  65 rr        	adc     L06BD
000A7Dr 1  85 rr        	sta     L06BD
000A7Fr 1  A9 00        	lda     #$00
000A81r 1  65 rr        	adc     L06BD+1
000A83r 1  85 rr        	sta     L06BD+1
000A85r 1  A9 00        	lda     #$00
000A87r 1  85 rr        	sta     _i
000A89r 1  AA           	tax
000A8Ar 1  A5 rr        L0927:	lda     _i
000A8Cr 1  C5 rr        	cmp     L06B8
000A8Er 1  8A           	txa
000A8Fr 1  E9 00        	sbc     #$00
000A91r 1  B0 13        	bcs     L0928
000A93r 1  AD rr rr     	lda     _src_map_exported_map
000A96r 1  18           	clc
000A97r 1  65 rr        	adc     L06BD
000A99r 1  85 rr        	sta     L06BD
000A9Br 1  A9 00        	lda     #$00
000A9Dr 1  65 rr        	adc     L06BD+1
000A9Fr 1  85 rr        	sta     L06BD+1
000AA1r 1  E6 rr        	inc     _i
000AA3r 1  4C rr rr     	jmp     L0927
000AA6r 1  A9 00        L0928:	lda     #$00
000AA8r 1  85 rr        	sta     L06BE
000AAAr 1  85 rr        	sta     _i
000AACr 1  A5 rr        L0929:	lda     _i
000AAEr 1  C5 rr        	cmp     L06B9
000AB0r 1  8A           	txa
000AB1r 1  E9 00        	sbc     #$00
000AB3r 1  B0 34        	bcs     L06F2
000AB5r 1  A5 rr        	lda     L06BD
000AB7r 1  85 rr        	sta     ptr1
000AB9r 1  A5 rr        	lda     L06BD+1
000ABBr 1  85 rr        	sta     ptr1+1
000ABDr 1  A0 00        	ldy     #$00
000ABFr 1  B1 rr        	lda     (ptr1),y
000AC1r 1  85 rr        	sta     ptr1
000AC3r 1  98           	tya
000AC4r 1  18           	clc
000AC5r 1  69 rr        	adc     #>(_solid_tiles)
000AC7r 1  85 rr        	sta     ptr1+1
000AC9r 1  A0 rr        	ldy     #<(_solid_tiles)
000ACBr 1  B1 rr        	lda     (ptr1),y
000ACDr 1  F0 07        	beq     L092A
000ACFr 1  A9 01        	lda     #$01
000AD1r 1  85 rr        	sta     L06BE
000AD3r 1  4C rr rr     	jmp     L06F2
000AD6r 1  AD rr rr     L092A:	lda     _src_map_exported_map
000AD9r 1  18           	clc
000ADAr 1  65 rr        	adc     L06BD
000ADCr 1  85 rr        	sta     L06BD
000ADEr 1  A9 00        	lda     #$00
000AE0r 1  65 rr        	adc     L06BD+1
000AE2r 1  85 rr        	sta     L06BD+1
000AE4r 1  E6 rr        	inc     _i
000AE6r 1  4C rr rr     	jmp     L0929
000AE9r 1  A5 rr        L06F2:	lda     L06BE
000AEBr 1  F0 42        	beq     L0701
000AEDr 1  A5 rr        	lda     L06BF
000AEFr 1  D0 0C        	bne     L092B
000AF1r 1  A5 rr        	lda     L06B7
000AF3r 1  38           	sec
000AF4r 1  E9 01        	sbc     #$01
000AF6r 1  B0 0E        	bcs     L0711
000AF8r 1  A2 FF        	ldx     #$FF
000AFAr 1  4C rr rr     	jmp     L0711
000AFDr 1  A5 rr        L092B:	lda     L06B7
000AFFr 1  18           	clc
000B00r 1  69 01        	adc     #$01
000B02r 1  90 02        	bcc     L0711
000B04r 1  A2 01        	ldx     #$01
000B06r 1  20 rr rr     L0711:	jsr     shlax4
000B09r 1  86 rr        	stx     sreg
000B0Br 1  85 rr        	sta     _ego_x+1
000B0Dr 1  A9 00        	lda     #$00
000B0Fr 1  85 rr        	sta     _ego_x
000B11r 1  A4 rr        	ldy     sreg
000B13r 1  84 rr        	sty     _ego_x+2
000B15r 1  85 rr        	sta     _ego_x+3
000B17r 1  85 rr        	sta     _ego_xv
000B19r 1  85 rr        	sta     _ego_xv+1
000B1Br 1  A5 rr        	lda     _ego_x+3
000B1Dr 1  85 rr        	sta     sreg+1
000B1Fr 1  A5 rr        	lda     _ego_x+2
000B21r 1  85 rr        	sta     sreg
000B23r 1  A5 rr        	lda     _ego_x+1
000B25r 1  A6 rr        	ldx     sreg
000B27r 1  A4 rr        	ldy     sreg+1
000B29r 1  C0 80        	cpy     #$80
000B2Br 1  85 rr        	sta     _old_ego_x
000B2Dr 1  86 rr        	stx     _old_ego_x+1
000B2Fr 1  60           L0701:	rts
000B30r 1               
000B30r 1               .endproc
000B30r 1               
000B30r 1               ; ---------------------------------------------------------------
000B30r 1               ; void __near__ check_ego_y_collisions (void)
000B30r 1               ; ---------------------------------------------------------------
000B30r 1               
000B30r 1               .segment	"CODE"
000B30r 1               
000B30r 1               .proc	_check_ego_y_collisions: near
000B30r 1               
000B30r 1               .segment	"ZEROPAGE"
0000AFr 1               
0000AFr 1               L0718:
0000AFr 1  00           	.res	1,$00
0000B0r 1               L0719:
0000B0r 1  00           	.res	1,$00
0000B1r 1               L071A:
0000B1r 1  00           	.res	1,$00
0000B2r 1               L071B:
0000B2r 1  00 00        	.res	2,$00
0000B4r 1               L071E:
0000B4r 1  00 00        	.res	2,$00
0000B6r 1               L071F:
0000B6r 1  00           	.res	1,$00
0000B7r 1               L0720:
0000B7r 1  00           	.res	1,$00
0000B8r 1               L0721:
0000B8r 1  00           	.res	1,$00
0000B9r 1               
0000B9r 1               .segment	"CODE"
000B30r 1               
000B30r 1  A5 rr        	lda     _ego_y+3
000B32r 1  85 rr        	sta     sreg+1
000B34r 1  A5 rr        	lda     _ego_y+2
000B36r 1  85 rr        	sta     sreg
000B38r 1  A5 rr        	lda     _ego_y+1
000B3Ar 1  A6 rr        	ldx     sreg
000B3Cr 1  A4 rr        	ldy     sreg+1
000B3Er 1  C0 80        	cpy     #$80
000B40r 1  85 rr        	sta     L071B
000B42r 1  86 rr        	stx     L071B+1
000B44r 1  A5 rr        	lda     _ego_squatting
000B46r 1  F0 02        	beq     L0725
000B48r 1  A9 10        	lda     #$10
000B4Ar 1  85 rr        L0725:	sta     L0721
000B4Cr 1  A5 rr        	lda     _old_ego_y
000B4Er 1  A6 rr        	ldx     _old_ego_y+1
000B50r 1  E4 rr        	cpx     L071B+1
000B52r 1  D0 05        	bne     L093F
000B54r 1  C5 rr        	cmp     L071B
000B56r 1  D0 01        	bne     L093F
000B58r 1  60           	rts
000B59r 1  A5 rr        L093F:	lda     _old_ego_x
000B5Br 1  A6 rr        	ldx     _old_ego_x+1
000B5Dr 1  20 rr rr     	jsr     shrax4
000B60r 1  85 rr        	sta     L0718
000B62r 1  A5 rr        	lda     L071B
000B64r 1  38           	sec
000B65r 1  E5 rr        	sbc     _old_ego_y
000B67r 1  85 rr        	sta     tmp1
000B69r 1  A5 rr        	lda     L071B+1
000B6Br 1  E5 rr        	sbc     _old_ego_y+1
000B6Dr 1  05 rr        	ora     tmp1
000B6Fr 1  90 16        	bcc     L072B
000B71r 1  F0 14        	beq     L072B
000B73r 1  A5 rr        	lda     L071B
000B75r 1  A6 rr        	ldx     L071B+1
000B77r 1  18           	clc
000B78r 1  69 1F        	adc     #$1F
000B7Ar 1  90 01        	bcc     L0730
000B7Cr 1  E8           	inx
000B7Dr 1  20 rr rr     L0730:	jsr     shrax4
000B80r 1  85 rr        	sta     L0719
000B82r 1  A9 00        	lda     #$00
000B84r 1  4C rr rr     	jmp     L0936
000B87r 1  A5 rr        L072B:	lda     L071B
000B89r 1  A6 rr        	ldx     L071B+1
000B8Br 1  18           	clc
000B8Cr 1  65 rr        	adc     L0721
000B8Er 1  90 01        	bcc     L0934
000B90r 1  E8           	inx
000B91r 1  20 rr rr     L0934:	jsr     shrax4
000B94r 1  85 rr        	sta     L0719
000B96r 1  A9 01        	lda     #$01
000B98r 1  85 rr        L0936:	sta     L0720
000B9Ar 1  A5 rr        	lda     _old_ego_x
000B9Cr 1  A6 rr        	ldx     _old_ego_x+1
000B9Er 1  18           	clc
000B9Fr 1  69 0F        	adc     #$0F
000BA1r 1  90 01        	bcc     L073D
000BA3r 1  E8           	inx
000BA4r 1  20 rr rr     L073D:	jsr     shrax4
000BA7r 1  20 rr rr     	jsr     pushax
000BAAr 1  A5 rr        	lda     _old_ego_x
000BACr 1  A6 rr        	ldx     _old_ego_x+1
000BAEr 1  20 rr rr     	jsr     shrax4
000BB1r 1  20 rr rr     	jsr     tossubax
000BB4r 1  18           	clc
000BB5r 1  69 01        	adc     #$01
000BB7r 1  85 rr        	sta     L071A
000BB9r 1  A9 rr        	lda     #<(_src_map_exported_map+2)
000BBBr 1  85 rr        	sta     L071E
000BBDr 1  A9 rr        	lda     #>(_src_map_exported_map+2)
000BBFr 1  85 rr        	sta     L071E+1
000BC1r 1  A5 rr        	lda     L0718
000BC3r 1  18           	clc
000BC4r 1  65 rr        	adc     L071E
000BC6r 1  85 rr        	sta     L071E
000BC8r 1  A9 00        	lda     #$00
000BCAr 1  65 rr        	adc     L071E+1
000BCCr 1  85 rr        	sta     L071E+1
000BCEr 1  A9 00        	lda     #$00
000BD0r 1  85 rr        	sta     _i
000BD2r 1  AA           	tax
000BD3r 1  A5 rr        L0938:	lda     _i
000BD5r 1  C5 rr        	cmp     L0719
000BD7r 1  8A           	txa
000BD8r 1  E9 00        	sbc     #$00
000BDAr 1  B0 13        	bcs     L0939
000BDCr 1  AD rr rr     	lda     _src_map_exported_map
000BDFr 1  18           	clc
000BE0r 1  65 rr        	adc     L071E
000BE2r 1  85 rr        	sta     L071E
000BE4r 1  A9 00        	lda     #$00
000BE6r 1  65 rr        	adc     L071E+1
000BE8r 1  85 rr        	sta     L071E+1
000BEAr 1  E6 rr        	inc     _i
000BECr 1  4C rr rr     	jmp     L0938
000BEFr 1  A9 00        L0939:	lda     #$00
000BF1r 1  85 rr        	sta     L071F
000BF3r 1  85 rr        	sta     _i
000BF5r 1  A5 rr        L093A:	lda     _i
000BF7r 1  C5 rr        	cmp     L071A
000BF9r 1  8A           	txa
000BFAr 1  E9 00        	sbc     #$00
000BFCr 1  B0 2C        	bcs     L0752
000BFEr 1  A5 rr        	lda     L071E
000C00r 1  85 rr        	sta     ptr1
000C02r 1  A5 rr        	lda     L071E+1
000C04r 1  85 rr        	sta     ptr1+1
000C06r 1  A0 00        	ldy     #$00
000C08r 1  B1 rr        	lda     (ptr1),y
000C0Ar 1  85 rr        	sta     ptr1
000C0Cr 1  98           	tya
000C0Dr 1  18           	clc
000C0Er 1  69 rr        	adc     #>(_solid_tiles)
000C10r 1  85 rr        	sta     ptr1+1
000C12r 1  A0 rr        	ldy     #<(_solid_tiles)
000C14r 1  B1 rr        	lda     (ptr1),y
000C16r 1  F0 07        	beq     L0759
000C18r 1  A9 01        	lda     #$01
000C1Ar 1  85 rr        	sta     L071F
000C1Cr 1  4C rr rr     	jmp     L0752
000C1Fr 1  E6 rr        L0759:	inc     L071E
000C21r 1  D0 02        	bne     L075F
000C23r 1  E6 rr        	inc     L071E+1
000C25r 1  E6 rr        L075F:	inc     _i
000C27r 1  4C rr rr     	jmp     L093A
000C2Ar 1  A5 rr        L0752:	lda     L071F
000C2Cr 1  F0 0B        	beq     L0763
000C2Er 1  A5 rr        	lda     L0720
000C30r 1  F0 05        	beq     L093D
000C32r 1  A9 00        	lda     #$00
000C34r 1  4C rr rr     	jmp     L0763
000C37r 1  A9 01        L093D:	lda     #$01
000C39r 1  85 rr        L0763:	sta     _ego_grounded
000C3Br 1  A5 rr        	lda     L071F
000C3Dr 1  F0 49        	beq     L0764
000C3Fr 1  A5 rr        	lda     L0720
000C41r 1  D0 1F        	bne     L093E
000C43r 1  A5 rr        	lda     L0719
000C45r 1  38           	sec
000C46r 1  E9 01        	sbc     #$01
000C48r 1  B0 02        	bcs     L076D
000C4Ar 1  A2 FF        	ldx     #$FF
000C4Cr 1  20 rr rr     L076D:	jsr     shlax4
000C4Fr 1  18           	clc
000C50r 1  69 10        	adc     #$10
000C52r 1  90 01        	bcc     L076E
000C54r 1  E8           	inx
000C55r 1  38           L076E:	sec
000C56r 1  E9 20        	sbc     #$20
000C58r 1  B0 01        	bcs     L076F
000C5Ar 1  CA           	dex
000C5Br 1  86 rr        L076F:	stx     sreg
000C5Dr 1  85 rr        	sta     _ego_y+1
000C5Fr 1  4C rr rr     	jmp     L0944
000C62r 1  A5 rr        L093E:	lda     L0719
000C64r 1  18           	clc
000C65r 1  69 01        	adc     #$01
000C67r 1  90 02        	bcc     L0776
000C69r 1  A2 01        	ldx     #$01
000C6Br 1  20 rr rr     L0776:	jsr     shlax4
000C6Er 1  38           	sec
000C6Fr 1  E5 rr        	sbc     L0721
000C71r 1  85 rr        	sta     _ego_y+1
000C73r 1  8A           	txa
000C74r 1  E9 00        	sbc     #$00
000C76r 1  85 rr        	sta     sreg
000C78r 1  A9 00        L0944:	lda     #$00
000C7Ar 1  85 rr        	sta     _ego_y
000C7Cr 1  A4 rr        	ldy     sreg
000C7Er 1  84 rr        	sty     _ego_y+2
000C80r 1  85 rr        	sta     _ego_y+3
000C82r 1  85 rr        	sta     _ego_yv
000C84r 1  85 rr        	sta     _ego_yv+1
000C86r 1  85 rr        	sta     _ego_jump_frames
000C88r 1  60           L0764:	rts
000C89r 1               
000C89r 1               .endproc
000C89r 1               
000C89r 1               ; ---------------------------------------------------------------
000C89r 1               ; void __near__ play_dpcm_sample (void)
000C89r 1               ; ---------------------------------------------------------------
000C89r 1               
000C89r 1               .segment	"CODE"
000C89r 1               
000C89r 1               .proc	_play_dpcm_sample: near
000C89r 1               
000C89r 1               .segment	"CODE"
000C89r 1               
000C89r 1  A9 0E        	lda     #$0E
000C8Br 1  8D 10 40     	sta     $4010
000C8Er 1  A9 3F        	lda     #$3F
000C90r 1  8D 11 40     	sta     $4011
000C93r 1  A9 C0        	lda     #$C0
000C95r 1  8D 12 40     	sta     $4012
000C98r 1  A9 FE        	lda     #$FE
000C9Ar 1  8D 13 40     	sta     $4013
000C9Dr 1  A9 0F        	lda     #$0F
000C9Fr 1  8D 15 40     	sta     $4015
000CA2r 1  A9 1F        	lda     #$1F
000CA4r 1  8D 15 40     	sta     $4015
000CA7r 1  60           	rts
000CA8r 1               
000CA8r 1               .endproc
000CA8r 1               
000CA8r 1               ; ---------------------------------------------------------------
000CA8r 1               ; void __near__ show_logo (void)
000CA8r 1               ; ---------------------------------------------------------------
000CA8r 1               
000CA8r 1               .segment	"CODE"
000CA8r 1               
000CA8r 1               .proc	_show_logo: near
000CA8r 1               
000CA8r 1               .segment	"ZEROPAGE"
0000B9r 1               
0000B9r 1               L078F:
0000B9r 1  00 00        	.res	2,$00
0000BBr 1               L0790:
0000BBr 1  00 00        	.res	2,$00
0000BDr 1               L0792:
0000BDr 1  00 00        	.res	2,$00
0000BFr 1               L0794:
0000BFr 1  00           	.res	1,$00
0000C0r 1               
0000C0r 1               .segment	"CODE"
000CA8r 1               
000CA8r 1  A9 rr        	lda     #<(L0791)
000CAAr 1  85 rr        	sta     L0792
000CACr 1  A9 rr        	lda     #>(L0791)
000CAEr 1  85 rr        	sta     L0792+1
000CB0r 1  A9 00        	lda     #$00
000CB2r 1  85 rr        	sta     L0794
000CB4r 1  20 rr rr     	jsr     _set_logo_palette
000CB7r 1  A9 20        	lda     #$20
000CB9r 1  8D 06 20     	sta     $2006
000CBCr 1  A9 00        	lda     #$00
000CBEr 1  8D 06 20     	sta     $2006
000CC1r 1  85 rr        	sta     L078F
000CC3r 1  85 rr        	sta     L078F+1
000CC5r 1  A6 rr        L07A8:	ldx     L078F+1
000CC7r 1  E0 08        	cpx     #$08
000CC9r 1  B0 0E        	bcs     L07A9
000CCBr 1  A9 40        	lda     #$40
000CCDr 1  8D 07 20     	sta     $2007
000CD0r 1  E6 rr        	inc     L078F
000CD2r 1  D0 F1        	bne     L07A8
000CD4r 1  E6 rr        	inc     L078F+1
000CD6r 1  4C rr rr     	jmp     L07A8
000CD9r 1  A9 20        L07A9:	lda     #$20
000CDBr 1  8D 06 20     	sta     $2006
000CDEr 1  A9 E0        	lda     #$E0
000CE0r 1  8D 06 20     	sta     $2006
000CE3r 1  A9 00        	lda     #$00
000CE5r 1  85 rr        	sta     L078F
000CE7r 1  85 rr        	sta     L078F+1
000CE9r 1  A6 rr        L07C5:	ldx     L078F+1
000CEBr 1  E0 01        	cpx     #$01
000CEDr 1  B0 1E        	bcs     L07C6
000CEFr 1  A9 rr        	lda     #<(_src_gfx_index_logo)
000CF1r 1  85 rr        	sta     ptr1
000CF3r 1  A9 rr        	lda     #>(_src_gfx_index_logo)
000CF5r 1  18           	clc
000CF6r 1  65 rr        	adc     L078F+1
000CF8r 1  85 rr        	sta     ptr1+1
000CFAr 1  A4 rr        	ldy     L078F
000CFCr 1  B1 rr        	lda     (ptr1),y
000CFEr 1  18           	clc
000CFFr 1  69 40        	adc     #$40
000D01r 1  8D 07 20     	sta     $2007
000D04r 1  E6 rr        	inc     L078F
000D06r 1  D0 E1        	bne     L07C5
000D08r 1  E6 rr        	inc     L078F+1
000D0Ar 1  4C rr rr     	jmp     L07C5
000D0Dr 1  A9 23        L07C6:	lda     #$23
000D0Fr 1  8D 06 20     	sta     $2006
000D12r 1  A9 C0        	lda     #$C0
000D14r 1  8D 06 20     	sta     $2006
000D17r 1  A9 00        	lda     #$00
000D19r 1  85 rr        	sta     _j
000D1Br 1  A5 rr        L0946:	lda     _j
000D1Dr 1  C9 28        	cmp     #$28
000D1Fr 1  B0 0A        	bcs     L0947
000D21r 1  A9 00        	lda     #$00
000D23r 1  8D 07 20     	sta     $2007
000D26r 1  E6 rr        	inc     _j
000D28r 1  4C rr rr     	jmp     L0946
000D2Br 1  A9 00        L0947:	lda     #$00
000D2Dr 1  85 rr        	sta     _j
000D2Fr 1  A5 rr        L0948:	lda     _j
000D31r 1  C9 18        	cmp     #$18
000D33r 1  B0 0A        	bcs     L0949
000D35r 1  A9 55        	lda     #$55
000D37r 1  8D 07 20     	sta     $2007
000D3Ar 1  E6 rr        	inc     _j
000D3Cr 1  4C rr rr     	jmp     L0948
000D3Fr 1  A9 22        L0949:	lda     #$22
000D41r 1  8D 06 20     	sta     $2006
000D44r 1  A9 AA        	lda     #$AA
000D46r 1  8D 06 20     	sta     $2006
000D49r 1  4C rr rr     	jmp     L0818
000D4Cr 1  A5 rr        L0816:	lda     _j
000D4Er 1  38           	sec
000D4Fr 1  E9 20        	sbc     #$20
000D51r 1  18           	clc
000D52r 1  69 C0        	adc     #$C0
000D54r 1  8D 07 20     	sta     $2007
000D57r 1  A5 rr        L0818:	lda     L0792
000D59r 1  A6 rr        	ldx     L0792+1
000D5Br 1  85 rr        	sta     regsave
000D5Dr 1  86 rr        	stx     regsave+1
000D5Fr 1  18           	clc
000D60r 1  69 01        	adc     #$01
000D62r 1  90 01        	bcc     L081B
000D64r 1  E8           	inx
000D65r 1  85 rr        L081B:	sta     L0792
000D67r 1  86 rr        	stx     L0792+1
000D69r 1  A0 00        	ldy     #$00
000D6Br 1  B1 rr        	lda     (regsave),y
000D6Dr 1  85 rr        	sta     _j
000D6Fr 1  AA           	tax
000D70r 1  D0 DA        	bne     L0816
000D72r 1  E8           	inx
000D73r 1  85 rr        	sta     L0790
000D75r 1  86 rr        	stx     L0790+1
000D77r 1  A5 rr        L0821:	lda     L0790
000D79r 1  C9 01        	cmp     #$01
000D7Br 1  A5 rr        	lda     L0790+1
000D7Dr 1  E9 02        	sbc     #$02
000D7Fr 1  50 02        	bvc     L0828
000D81r 1  49 80        	eor     #$80
000D83r 1  10 2D        L0828:	bpl     L0822
000D85r 1  20 rr rr     	jsr     _wait_vblank
000D88r 1  A5 rr        	lda     L0790+1
000D8Ar 1  29 01        	and     #$01
000D8Cr 1  AA           	tax
000D8Dr 1  E0 80        	cpx     #$80
000D8Fr 1  8A           	txa
000D90r 1  09 90        	ora     #$90
000D92r 1  8D 00 20     	sta     $2000
000D95r 1  A9 1E        	lda     #$1E
000D97r 1  8D 01 20     	sta     $2001
000D9Ar 1  A5 rr        	lda     L0790
000D9Cr 1  8D 05 20     	sta     $2005
000D9Fr 1  A9 00        	lda     #$00
000DA1r 1  8D 05 20     	sta     $2005
000DA4r 1  A9 08        	lda     #$08
000DA6r 1  18           	clc
000DA7r 1  65 rr        	adc     L0790
000DA9r 1  85 rr        	sta     L0790
000DABr 1  90 CA        	bcc     L0821
000DADr 1  E6 rr        	inc     L0790+1
000DAFr 1  4C rr rr     	jmp     L0821
000DB2r 1  20 rr rr     L0822:	jsr     _wait_vblank
000DB5r 1  A2 02        	ldx     #$02
000DB7r 1  A9 00        	lda     #$00
000DB9r 1  85 rr        	sta     ptr1
000DBBr 1  86 rr        	stx     ptr1+1
000DBDr 1  A9 D3        	lda     #$D3
000DBFr 1  A0 03        	ldy     #$03
000DC1r 1  91 rr        	sta     (ptr1),y
000DC3r 1  A9 76        	lda     #$76
000DC5r 1  A0 00        	ldy     #$00
000DC7r 1  91 rr        	sta     (ptr1),y
000DC9r 1  A9 FB        	lda     #$FB
000DCBr 1  C8           	iny
000DCCr 1  91 rr        	sta     (ptr1),y
000DCEr 1  A9 00        	lda     #$00
000DD0r 1  C8           	iny
000DD1r 1  91 rr        	sta     (ptr1),y
000DD3r 1  8D 03 20     	sta     $2003
000DD6r 1  8E 14 40     	stx     $4014
000DD9r 1  20 rr rr     	jsr     _play_dpcm_sample
000DDCr 1  AD 15 40     L094A:	lda     $4015
000DDFr 1  29 10        	and     #$10
000DE1r 1  D0 F9        	bne     L094A
000DE3r 1  E6 rr        L094B:	inc     L0794
000DE5r 1  A9 00        	lda     #$00
000DE7r 1  20 rr rr     	jsr     _read_joy
000DEAr 1  29 08        	and     #$08
000DECr 1  D0 50        	bne     L0874
000DEEr 1  20 rr rr     	jsr     _wait_vblank
000DF1r 1  A9 3F        	lda     #$3F
000DF3r 1  8D 06 20     	sta     $2006
000DF6r 1  A9 05        	lda     #$05
000DF8r 1  8D 06 20     	sta     $2006
000DFBr 1  A5 rr        	lda     L0794
000DFDr 1  29 20        	and     #$20
000DFFr 1  F0 0B        	beq     L094C
000E01r 1  A9 0F        	lda     #$0F
000E03r 1  8D 07 20     	sta     $2007
000E06r 1  8D 07 20     	sta     $2007
000E09r 1  4C rr rr     	jmp     L0945
000E0Cr 1  A9 07        L094C:	lda     #$07
000E0Er 1  8D 07 20     	sta     $2007
000E11r 1  A9 17        	lda     #$17
000E13r 1  8D 07 20     	sta     $2007
000E16r 1  A9 27        	lda     #$27
000E18r 1  8D 07 20     L0945:	sta     $2007
000E1Br 1  A9 90        	lda     #$90
000E1Dr 1  8D 00 20     	sta     $2000
000E20r 1  A9 00        	lda     #$00
000E22r 1  8D 05 20     	sta     $2005
000E25r 1  8D 05 20     	sta     $2005
000E28r 1  AD 02 20     L094D:	lda     $2002
000E2Br 1  29 40        	and     #$40
000E2Dr 1  D0 F9        	bne     L094D
000E2Fr 1  AD 02 20     L094E:	lda     $2002
000E32r 1  29 40        	and     #$40
000E34r 1  F0 F9        	beq     L094E
000E36r 1  A9 80        	lda     #$80
000E38r 1  8D 00 20     	sta     $2000
000E3Br 1  4C rr rr     	jmp     L094B
000E3Er 1  20 rr rr     L0874:	jsr     _wait_vblank
000E41r 1  A9 06        	lda     #$06
000E43r 1  8D 01 20     	sta     $2001
000E46r 1  60           	rts
000E47r 1               
000E47r 1               .endproc
000E47r 1               
000E47r 1               ; ---------------------------------------------------------------
000E47r 1               ; void __near__ upload_dynamic_palette (void)
000E47r 1               ; ---------------------------------------------------------------
000E47r 1               
000E47r 1               .segment	"CODE"
000E47r 1               
000E47r 1               .proc	_upload_dynamic_palette: near
000E47r 1               
000E47r 1               .segment	"CODE"
000E47r 1               
000E47r 1  A9 3F        	lda     #$3F
000E49r 1  8D 06 20     	sta     $2006
000E4Cr 1  A9 0D        	lda     #$0D
000E4Er 1  8D 06 20     	sta     $2006
000E51r 1  A5 rr        	lda     _coin_color
000E53r 1  8D 07 20     	sta     $2007
000E56r 1  60           	rts
000E57r 1               
000E57r 1               .endproc
000E57r 1               
000E57r 1               ; ---------------------------------------------------------------
000E57r 1               ; int __near__ main (void)
000E57r 1               ; ---------------------------------------------------------------
000E57r 1               
000E57r 1               .segment	"CODE"
000E57r 1               
000E57r 1               .proc	_main: near
000E57r 1               
000E57r 1               .segment	"CODE"
000E57r 1               
000E57r 1  20 rr rr     	jsr     _init_music
000E5Ar 1  A9 00        	lda     #$00
000E5Cr 1  8D 03 20     	sta     $2003
000E5Fr 1  A9 02        	lda     #$02
000E61r 1  8D 14 40     	sta     $4014
000E64r 1  A9 90        	lda     #$90
000E66r 1  8D 00 20     	sta     $2000
000E69r 1  20 rr rr     	jsr     _show_logo
000E6Cr 1  20 rr rr     	jsr     _set_game_palette
000E6Fr 1  20 rr rr     	jsr     _set_nt
000E72r 1  A9 01        	lda     #$01
000E74r 1  85 rr        	sta     _ego_alive
000E76r 1  20 rr rr     L02DA:	jsr     _update_frame
000E79r 1  A5 rr        	lda     _ego_alive
000E7Br 1  D0 10        	bne     L02DC
000E7Dr 1  8D 15 40     	sta     $4015
000E80r 1  20 rr rr     	jsr     _wait_vblank
000E83r 1  A2 00        	ldx     #$00
000E85r 1  A9 06        	lda     #$06
000E87r 1  8D 01 20     	sta     $2001
000E8Ar 1  4C rr rr     	jmp     L094F
000E8Dr 1  20 rr rr     L02DC:	jsr     _play_music
000E90r 1  20 rr rr     	jsr     _wait_vblank
000E93r 1  A9 00        	lda     #$00
000E95r 1  8D 03 20     	sta     $2003
000E98r 1  A9 02        	lda     #$02
000E9Ar 1  8D 14 40     	sta     $4014
000E9Dr 1  20 rr rr     	jsr     _upload_ppu_buffers
000EA0r 1  20 rr rr     	jsr     _upload_dynamic_palette
000EA3r 1  A5 rr        	lda     _scroll_x_left+1
000EA5r 1  29 01        	and     #$01
000EA7r 1  AA           	tax
000EA8r 1  E0 80        	cpx     #$80
000EAAr 1  8A           	txa
000EABr 1  09 90        	ora     #$90
000EADr 1  8D 00 20     	sta     $2000
000EB0r 1  A9 1E        	lda     #$1E
000EB2r 1  8D 01 20     	sta     $2001
000EB5r 1  A5 rr        	lda     _scroll_x_left
000EB7r 1  8D 05 20     	sta     $2005
000EBAr 1  A9 00        	lda     #$00
000EBCr 1  8D 05 20     	sta     $2005
000EBFr 1  4C rr rr     	jmp     L02DA
000EC2r 1  8A           L094F:	txa
000EC3r 1  60           	rts
000EC4r 1               
000EC4r 1               .endproc
000EC4r 1               
000EC4r 1               
